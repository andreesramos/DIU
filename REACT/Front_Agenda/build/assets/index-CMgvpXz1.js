(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function oT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function KA(){if(ov)return Ll;ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var lv;function $A(){return lv||(lv=1,sm.exports=KA()),sm.exports}var V=$A(),am={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function QA(){if(uv)return De;uv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function P(M,ne,me){this.props=M,this.context=ne,this.refs=H,this.updater=me||x}P.prototype.isReactComponent={},P.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=P.prototype;function Z(M,ne,me){this.props=M,this.context=ne,this.refs=H,this.updater=me||x}var W=Z.prototype=new G;W.constructor=Z,O(W,P.prototype),W.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function N(M,ne,me,le,ue,Oe){return me=Oe.ref,{$$typeof:i,type:M,key:ne,ref:me!==void 0?me:null,props:Oe}}function w(M,ne){return N(M.type,ne,void 0,void 0,void 0,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function D(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return ne[me]})}var L=/\/+/g;function z(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):ne.toString(36)}function C(){}function Ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ke(M,ne,me,le,ue){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(Oe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case i:case e:Ie=!0;break;case E:return Ie=M._init,ke(Ie(M._payload),ne,me,le,ue)}}if(Ie)return ue=ue(M),Ie=le===""?"."+z(M,0):le,oe(ue)?(me="",Ie!=null&&(me=Ie.replace(L,"$&/")+"/"),ke(ue,ne,me,"",function(ot){return ot})):ue!=null&&(A(ue)&&(ue=w(ue,me+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(L,"$&/")+"/")+Ie)),ne.push(ue)),1;Ie=0;var yt=le===""?".":le+":";if(oe(M))for(var qe=0;qe<M.length;qe++)le=M[qe],Oe=yt+z(le,qe),Ie+=ke(le,ne,me,Oe,ue);else if(qe=R(M),typeof qe=="function")for(M=qe.call(M),qe=0;!(le=M.next()).done;)le=le.value,Oe=yt+z(le,qe++),Ie+=ke(le,ne,me,Oe,ue);else if(Oe==="object"){if(typeof M.then=="function")return ke(Ae(M),ne,me,le,ue);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(M,ne,me){if(M==null)return M;var le=[],ue=0;return ke(M,le,"","",function(Oe){return ne.call(me,Oe,ue++)}),le}function Te(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function $e(){}return De.Children={map:re,forEach:function(M,ne,me){re(M,function(){ne.apply(this,arguments)},me)},count:function(M){var ne=0;return re(M,function(){ne++}),ne},toArray:function(M){return re(M,function(ne){return ne})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=P,De.Fragment=n,De.Profiler=o,De.PureComponent=Z,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,ne,me){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=O({},M.props),ue=M.key,Oe=void 0;if(ne!=null)for(Ie in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ue=""+ne.key),ne)!de.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(le[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)le.children=me;else if(1<Ie){for(var yt=Array(Ie),qe=0;qe<Ie;qe++)yt[qe]=arguments[qe+2];le.children=yt}return N(M.type,ue,void 0,void 0,Oe,le)},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},De.createElement=function(M,ne,me){var le,ue={},Oe=null;if(ne!=null)for(le in ne.key!==void 0&&(Oe=""+ne.key),ne)de.call(ne,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ne[le]);var Ie=arguments.length-2;if(Ie===1)ue.children=me;else if(1<Ie){for(var yt=Array(Ie),qe=0;qe<Ie;qe++)yt[qe]=arguments[qe+2];ue.children=yt}if(M&&M.defaultProps)for(le in Ie=M.defaultProps,Ie)ue[le]===void 0&&(ue[le]=Ie[le]);return N(M,Oe,void 0,void 0,null,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:m,render:M}},De.isValidElement=A,De.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Te}},De.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},De.startTransition=function(M){var ne=ae.T,me={};ae.T=me;try{var le=M(),ue=ae.S;ue!==null&&ue(me,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then($e,ge)}catch(Oe){ge(Oe)}finally{ae.T=ne}},De.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},De.use=function(M){return ae.H.use(M)},De.useActionState=function(M,ne,me){return ae.H.useActionState(M,ne,me)},De.useCallback=function(M,ne){return ae.H.useCallback(M,ne)},De.useContext=function(M){return ae.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,ne){return ae.H.useDeferredValue(M,ne)},De.useEffect=function(M,ne){return ae.H.useEffect(M,ne)},De.useId=function(){return ae.H.useId()},De.useImperativeHandle=function(M,ne,me){return ae.H.useImperativeHandle(M,ne,me)},De.useInsertionEffect=function(M,ne){return ae.H.useInsertionEffect(M,ne)},De.useLayoutEffect=function(M,ne){return ae.H.useLayoutEffect(M,ne)},De.useMemo=function(M,ne){return ae.H.useMemo(M,ne)},De.useOptimistic=function(M,ne){return ae.H.useOptimistic(M,ne)},De.useReducer=function(M,ne,me){return ae.H.useReducer(M,ne,me)},De.useRef=function(M){return ae.H.useRef(M)},De.useState=function(M){return ae.H.useState(M)},De.useSyncExternalStore=function(M,ne,me){return ae.H.useSyncExternalStore(M,ne,me)},De.useTransition=function(){return ae.H.useTransition()},De.version="19.0.0",De}var cv;function ap(){return cv||(cv=1,am.exports=QA()),am.exports}var F=ap();const YA=oT(F);var om={exports:{}},Ul={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function XA(){return hv||(hv=1,function(i){function e(re,Te){var ge=re.length;re.push(Te);e:for(;0<ge;){var $e=ge-1>>>1,M=re[$e];if(0<o(M,Te))re[$e]=Te,re[ge]=M,ge=$e;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Te=re[0],ge=re.pop();if(ge!==Te){re[0]=ge;e:for(var $e=0,M=re.length,ne=M>>>1;$e<ne;){var me=2*($e+1)-1,le=re[me],ue=me+1,Oe=re[ue];if(0>o(le,ge))ue<M&&0>o(Oe,le)?(re[$e]=Oe,re[ue]=ge,$e=ue):(re[$e]=le,re[me]=ge,$e=me);else if(ue<M&&0>o(Oe,ge))re[$e]=Oe,re[ue]=ge,$e=ue;else break e}}return Te}function o(re,Te){var ge=re.sortIndex-Te.sortIndex;return ge!==0?ge:re.id-Te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,R=3,x=!1,O=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var Te=n(g);Te!==null;){if(Te.callback===null)s(g);else if(Te.startTime<=re)s(g),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(g)}}function oe(re){if(H=!1,W(re),!O)if(n(p)!==null)O=!0,Ae();else{var Te=n(g);Te!==null&&ke(oe,Te.startTime-re)}}var ae=!1,de=-1,N=5,w=-1;function A(){return!(i.unstable_now()-w<N)}function D(){if(ae){var re=i.unstable_now();w=re;var Te=!0;try{e:{O=!1,H&&(H=!1,G(de),de=-1),x=!0;var ge=R;try{t:{for(W(re),S=n(p);S!==null&&!(S.expirationTime>re&&A());){var $e=S.callback;if(typeof $e=="function"){S.callback=null,R=S.priorityLevel;var M=$e(S.expirationTime<=re);if(re=i.unstable_now(),typeof M=="function"){S.callback=M,W(re),Te=!0;break t}S===n(p)&&s(p),W(re)}else s(p);S=n(p)}if(S!==null)Te=!0;else{var ne=n(g);ne!==null&&ke(oe,ne.startTime-re),Te=!1}}break e}finally{S=null,R=ge,x=!1}Te=void 0}}finally{Te?L():ae=!1}}}var L;if(typeof Z=="function")L=function(){Z(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=D,L=function(){C.postMessage(null)}}else L=function(){P(D,0)};function Ae(){ae||(ae=!0,L())}function ke(re,Te){de=P(function(){re(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){O||x||(O=!0,Ae())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(re){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var ge=R;R=Te;try{return re()}finally{R=ge}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,Te){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=R;R=re;try{return Te()}finally{R=ge}},i.unstable_scheduleCallback=function(re,Te,ge){var $e=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?$e+ge:$e):ge=$e,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,re={id:E++,callback:Te,priorityLevel:re,startTime:ge,expirationTime:M,sortIndex:-1},ge>$e?(re.sortIndex=ge,e(g,re),n(p)===null&&re===n(g)&&(H?(G(de),de=-1):H=!0,ke(oe,ge-$e))):(re.sortIndex=M,e(p,re),O||x||(O=!0,Ae())),re},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(re){var Te=R;return function(){var ge=R;R=Te;try{return re.apply(this,arguments)}finally{R=ge}}}}(um)),um}var fv;function WA(){return fv||(fv=1,lm.exports=XA()),lm.exports}var cm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function ZA(){if(dv)return Qt;dv=1;var i=ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var mv;function JA(){if(mv)return cm.exports;mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=ZA(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function ew(){if(pv)return Ul;pv=1;var i=WA(),e=ap(),n=JA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),x=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return r=t.displayName||null,r!==null?r:w(t.type)||"Memo";case Z:r=t._payload,t=t._init;try{return w(t(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,L,z;function C(t){if(L===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+t+z}var Ae=!1;function ke(t,r){if(!t||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){K=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),U=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===U.length)for(l=I.length-1,f=U.length-1;1<=l&&0<=f&&I[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==U[f]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?C(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=ke(t.type,!1),t;case 11:return t=ke(t.type.render,!1),t;case 1:return t=ke(t.type,!0),t;default:return""}}function Te(t){try{var r="";do r+=re(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function $e(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function M(t){if(ge(t)!==t)throw Error(s(188))}function ne(t){var r=t.alternate;if(!r){if(r=ge(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return M(f),t;if(d===l)return M(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function me(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=me(t),r!==null)return r;t=t.sibling}return null}var le=Array.isArray,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Ie=[],yt=-1;function qe(t){return{current:t}}function ot(t){0>yt||(t.current=Ie[yt],Ie[yt]=null,yt--)}function Xe(t,r){yt++,Ie[yt]=t.current,t.current=r}var en=qe(null),Ai=qe(null),Tn=qe(null),ur=qe(null);function cr(t,r){switch(Xe(Tn,r),Xe(Ai,t),Xe(en,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?k_(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=k_(t),r=L_(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(en),Xe(en,r)}function wi(){ot(en),ot(Ai),ot(Tn)}function xo(t){t.memoizedState!==null&&Xe(ur,t);var r=en.current,a=L_(r,t.type);r!==a&&(Xe(Ai,t),Xe(en,a))}function fa(t){Ai.current===t&&(ot(en),ot(Ai)),ur.current===t&&(ot(ur),xl._currentValue=Oe)}var da=Object.prototype.hasOwnProperty,ds=i.unstable_scheduleCallback,ma=i.unstable_cancelCallback,of=i.unstable_shouldYield,Po=i.unstable_requestPaint,on=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,Ri=i.unstable_NormalPriority,Ru=i.unstable_LowPriority,Mo=i.unstable_IdlePriority,lf=i.log,ms=i.unstable_setDisableYieldValue,hr=null,Kt=null;function Vo(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(hr,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof lf=="function"&&ms(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(hr,t)}catch{}}var tn=Math.clz32?Math.clz32:Iu,ko=Math.log,Cu=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(ko(t)/Cu|0)|0}var Zn=128,fr=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Bn(a):(d&=T,d!==0?l=Bn(d):t||(v=T&~v,v!==0&&(l=Bn(v))))):(T=a&~f,T!==0?l=Bn(T):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function dr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function pa(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var t=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),t}function mr(){var t=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),t}function ga(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function mt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Du(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-tn(a),te=1<<X;T[X]=0,I[X]=-1;var K=U[X];if(K!==null)for(U[X]=null,X=0;X<K.length;X++){var Y=K[X];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&pr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function pr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-tn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function gr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function yr(t,r){var a=ue.p;try{return ue.p=t,r()}finally{ue.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,bt="__reactProps$"+Jn,Ci="__reactContainer$"+Jn,ps="__reactEvents$"+Jn,ya="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Uo="__reactResources$"+Jn,_r="__reactMarker$"+Jn;function gs(t){delete t[xt],delete t[bt],delete t[ps],delete t[ya],delete t[ei]}function Hn(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ci]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[xt])return a;t=z_(t)}return r}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[xt]||t[Ci]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function vr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Er(t){var r=t[Uo];return r||(r=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function nt(t){t[_r]=!0}var jo=new Set,_a={};function dn(t,r){ln(t,r),ln(t+"Capture",r)}function ln(t,r){for(_a[t]=r,t=0;t<r.length;t++)jo.add(r[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function xu(t){return da.call(Bo,t)?!0:da.call(zo,t)?!1:uf.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function Tr(t,r,a){if(xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Sr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function bn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cf(t){var r=Pu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ys(t){t._valueTracker||(t._valueTracker=cf(t))}function Ho(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Pu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Di=/[\n"\\]/g;function lt(t){return t.replace(Di,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function br(t,r,a,l,f,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Ea(t,v,nn(r)):a!=null?Ea(t,v,nn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function _s(t,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ea(t,r,a){r==="number"&&va(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fe(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function vs(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function Ar(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var hf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||hf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Mu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&qo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&qo(t,d,r[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wn=null;function Ta(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Ni=null;function xi(t){var r=Ii(t);if(r&&(t=r.stateNode)){var a=t[bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(br(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[bt]||null;if(!f)throw Error(s(90));br(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ho(l)}break e;case"textarea":vs(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(t,!!a.multiple,r,!1)}}}var Go=!1;function Vu(t,r,a){if(Go)return t(r,a);Go=!0;try{var l=t(r);return l}finally{if(Go=!1,(Oi!==null||Ni!==null)&&(Rc(),Oi&&(r=Oi,t=Ni,Ni=Oi=null,xi(r),t)))for(r=0;r<t.length;r++)xi(t[r])}}function Es(t,r){var a=t.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Rn=!1;if(mn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Rn=!1}var ni=null,wr=null,Pi=null;function Ko(){if(Pi)return Pi;var t,r=wr,a=r.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Pi=f.slice(t,1<l?1-l:void 0)}function ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function $o(){return!1}function Pt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:$o,this.isPropagationStopped=$o,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Pt(Qe),Ss=D({},Qe,{view:0,detail:0}),ku=Pt(Ss),ba,Aa,si,bs=D({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(ba=t.screenX-si.screenX,Aa=t.screenY-si.screenY):Aa=ba=0,si=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Cn=Pt(bs),Lu=D({},bs,{dataTransfer:0}),mf=Pt(Lu),As=D({},Ss,{relatedTarget:0}),wa=Pt(As),Qo=D({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Pt(Qo),Uu=D({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Pt(Uu),pf=D({},Qe,{data:0}),Yo=Pt(pf),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function Rs(){return Xo}var Bu=D({},Ss,{key:function(t){if(t.key){var r=ws[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=Pt(Bu),Hu=D({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Pt(Hu),Mi=D({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),qu=Pt(Mi),Fu=D({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Pt(Fu),Ku=D({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Pt(Ku),rn=D({},Qe,{newState:0,oldState:0}),$u=Pt(rn),Qu=[9,13,27,32],ai=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var y=mn&&"TextEvent"in window&&!c,_=mn&&(!ai||c&&8<c&&11>=c),b=" ",B=!1;function $(t,r){switch(t){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function At(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return t=r.data,t===b&&B?null:t;default:return null}}function ze(t,r){if(je)return t==="compositionend"||!ai&&$(t,r)?(t=Ko(),Pi=wr=ni=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function Vi(t,r,a,l){Oi?Ni?Ni.push(l):Ni=[l]:Oi=l,r=Nc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var jt=null,oi=null;function Zo(t){N_(t,0)}function Yu(t){var r=vr(t);if(Ho(r))return t}function ag(t,r){if(t==="change")return r}var og=!1;if(mn){var gf;if(mn){var yf="oninput"in document;if(!yf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),yf=typeof lg.oninput=="function"}gf=yf}else gf=!1;og=gf&&(!document.documentMode||9<document.documentMode)}function ug(){jt&&(jt.detachEvent("onpropertychange",cg),oi=jt=null)}function cg(t){if(t.propertyName==="value"&&Yu(oi)){var r=[];Vi(r,oi,t,Ta(t)),Vu(Zo,r)}}function Sb(t,r,a){t==="focusin"?(ug(),jt=r,oi=a,jt.attachEvent("onpropertychange",cg)):t==="focusout"&&ug()}function bb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(oi)}function Ab(t,r){if(t==="click")return Yu(r)}function wb(t,r){if(t==="input"||t==="change")return Yu(r)}function Rb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:Rb;function Jo(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!da.call(r,f)||!pn(t[f],r[f]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,r){var a=hg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hg(a)}}function dg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?dg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=va(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=va(t.document)}return r}function _f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Cb(t,r){var a=mg(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&dg(r.ownerDocument.documentElement,r)){if(l!==null&&_f(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=fg(r,d);var v=fg(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ib=mn&&"documentMode"in document&&11>=document.documentMode,Oa=null,vf=null,el=null,Ef=!1;function pg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||Oa==null||Oa!==va(l)||(l=Oa,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=Nc(vf,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Oa)))}function Cs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Na={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Tf={},gg={};mn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Is(t){if(Tf[t])return Tf[t];if(!Na[t])return t;var r=Na[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in gg)return Tf[t]=r[a];return t}var yg=Is("animationend"),_g=Is("animationiteration"),vg=Is("animationstart"),Db=Is("transitionrun"),Ob=Is("transitionstart"),Nb=Is("transitioncancel"),Eg=Is("transitionend"),Tg=new Map,Sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,r){Tg.set(t,r),dn(r,[t])}var In=[],xa=0,Sf=0;function Xu(){for(var t=xa,r=Sf=xa=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var f=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&bg(a,f,d)}}function Wu(t,r,a,l){In[xa++]=t,In[xa++]=r,In[xa++]=a,In[xa++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return Wu(t,r,a,l),Zu(t)}function Rr(t,r){return Wu(t,null,null,r),Zu(t)}function bg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&r!==null&&t.tag===3&&(d=t.stateNode,f=31-tn(a),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[r]:t.push(r),r.lane=a|536870912)}function Zu(t){if(50<wl)throw wl=0,Dd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={},Ag=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Te(r)},Ag.set(t,r),r)}return{value:t,source:r,stack:Te(r)}}var Ma=[],Va=0,Ju=null,ec=0,On=[],Nn=0,Ds=null,ki=1,Li="";function Os(t,r){Ma[Va++]=ec,Ma[Va++]=Ju,Ju=t,ec=r}function wg(t,r,a){On[Nn++]=ki,On[Nn++]=Li,On[Nn++]=Ds,Ds=t;var l=ki;t=Li;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,ki=1<<32-tn(r)+f|a<<f|l,Li=d+t}else ki=1<<d|a<<f|l,Li=t}function Af(t){t.return!==null&&(Os(t,1),wg(t,1,0))}function wf(t){for(;t===Ju;)Ju=Ma[--Va],Ma[Va]=null,ec=Ma[--Va],Ma[Va]=null;for(;t===Ds;)Ds=On[--Nn],On[Nn]=null,Li=On[--Nn],On[Nn]=null,ki=On[--Nn],On[Nn]=null}var sn=null,zt=null,Ge=!1,Fn=null,li=!1,Rf=Error(s(519));function Ns(t){var r=Error(s(418,""));throw il(Dn(r,t)),Rf}function Rg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[bt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Le(Cl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Ar(r,l.value,l.defaultValue,l.children),ys(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||V_(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Ns(t)}function Cg(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:sn=sn.return}}function tl(t){if(t!==sn)return!1;if(!Ge)return Cg(t),Ge=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&zt&&Ns(t),Cg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){zt=Kn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}zt=null}}else zt=sn?Kn(t.stateNode.nextSibling):null;return!0}function nl(){zt=sn=null,Ge=!1}function il(t){Fn===null?Fn=[t]:Fn.push(t)}var rl=Error(s(460)),Ig=Error(s(474)),Cf={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Og(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===rl?Error(s(483)):t;default:if(typeof r.status=="string")r.then(tc,tc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===rl?Error(s(483)):t}throw sl=r,rl}}var sl=null;function Ng(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}var ka=null,al=0;function nc(t){var r=al;return al+=1,ka===null&&(ka=[]),Og(ka,t,r)}function ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ic(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xg(t){var r=t._init;return r(t._payload)}function Pg(t){function r(j,k){if(t){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Ur(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=33554434,k):q):(j.flags|=33554434,k)):(j.flags|=1048576,k)}function v(j){return t&&j.alternate===null&&(j.flags|=33554434),j}function T(j,k,q,J){return k===null||k.tag!==6?(k=Td(q,j.mode,J),k.return=j,k):(k=f(k,q),k.return=j,k)}function I(j,k,q,J){var he=q.type;return he===p?X(j,k,q.props.children,J,q.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&xg(he)===k.type)?(k=f(k,q.props),ol(k,q),k.return=j,k):(k=Tc(q.type,q.key,q.props,null,j.mode,J),ol(k,q),k.return=j,k)}function U(j,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Sd(q,j.mode,J),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function X(j,k,q,J,he){return k===null||k.tag!==7?(k=Bs(q,j.mode,J,he),k.return=j,k):(k=f(k,q),k.return=j,k)}function te(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Td(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return q=Tc(k.type,k.key,k.props,null,j.mode,q),ol(q,k),q.return=j,q;case m:return k=Sd(k,j.mode,q),k.return=j,k;case Z:var J=k._init;return k=J(k._payload),te(j,k,q)}if(le(k)||de(k))return k=Bs(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return te(j,nc(k),q);if(k.$$typeof===x)return te(j,_c(j,k),q);ic(j,k)}return null}function K(j,k,q,J){var he=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:T(j,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===he?I(j,k,q,J):null;case m:return q.key===he?U(j,k,q,J):null;case Z:return he=q._init,q=he(q._payload),K(j,k,q,J)}if(le(q)||de(q))return he!==null?null:X(j,k,q,J,null);if(typeof q.then=="function")return K(j,k,nc(q),J);if(q.$$typeof===x)return K(j,k,_c(j,q),J);ic(j,q)}return null}function Y(j,k,q,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(q)||null,T(k,j,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return j=j.get(J.key===null?q:J.key)||null,I(k,j,J,he);case m:return j=j.get(J.key===null?q:J.key)||null,U(k,j,J,he);case Z:var xe=J._init;return J=xe(J._payload),Y(j,k,q,J,he)}if(le(J)||de(J))return j=j.get(q)||null,X(k,j,J,he,null);if(typeof J.then=="function")return Y(j,k,q,nc(J),he);if(J.$$typeof===x)return Y(j,k,q,_c(k,J),he);ic(k,J)}return null}function fe(j,k,q,J){for(var he=null,xe=null,pe=k,ve=k=0,Lt=null;pe!==null&&ve<q.length;ve++){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Ke=K(j,pe,q[ve],J);if(Ke===null){pe===null&&(pe=Lt);break}t&&pe&&Ke.alternate===null&&r(j,pe),k=d(Ke,k,ve),xe===null?he=Ke:xe.sibling=Ke,xe=Ke,pe=Lt}if(ve===q.length)return a(j,pe),Ge&&Os(j,ve),he;if(pe===null){for(;ve<q.length;ve++)pe=te(j,q[ve],J),pe!==null&&(k=d(pe,k,ve),xe===null?he=pe:xe.sibling=pe,xe=pe);return Ge&&Os(j,ve),he}for(pe=l(pe);ve<q.length;ve++)Lt=Y(pe,j,ve,q[ve],J),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?ve:Lt.key),k=d(Lt,k,ve),xe===null?he=Lt:xe.sibling=Lt,xe=Lt);return t&&pe.forEach(function(Gr){return r(j,Gr)}),Ge&&Os(j,ve),he}function we(j,k,q,J){if(q==null)throw Error(s(151));for(var he=null,xe=null,pe=k,ve=k=0,Lt=null,Ke=q.next();pe!==null&&!Ke.done;ve++,Ke=q.next()){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Gr=K(j,pe,Ke.value,J);if(Gr===null){pe===null&&(pe=Lt);break}t&&pe&&Gr.alternate===null&&r(j,pe),k=d(Gr,k,ve),xe===null?he=Gr:xe.sibling=Gr,xe=Gr,pe=Lt}if(Ke.done)return a(j,pe),Ge&&Os(j,ve),he;if(pe===null){for(;!Ke.done;ve++,Ke=q.next())Ke=te(j,Ke.value,J),Ke!==null&&(k=d(Ke,k,ve),xe===null?he=Ke:xe.sibling=Ke,xe=Ke);return Ge&&Os(j,ve),he}for(pe=l(pe);!Ke.done;ve++,Ke=q.next())Ke=Y(pe,j,ve,Ke.value,J),Ke!==null&&(t&&Ke.alternate!==null&&pe.delete(Ke.key===null?ve:Ke.key),k=d(Ke,k,ve),xe===null?he=Ke:xe.sibling=Ke,xe=Ke);return t&&pe.forEach(function(GA){return r(j,GA)}),Ge&&Os(j,ve),he}function ht(j,k,q,J){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var he=q.key;k!==null;){if(k.key===he){if(he=q.type,he===p){if(k.tag===7){a(j,k.sibling),J=f(k,q.props.children),J.return=j,j=J;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&xg(he)===k.type){a(j,k.sibling),J=f(k,q.props),ol(J,q),J.return=j,j=J;break e}a(j,k);break}else r(j,k);k=k.sibling}q.type===p?(J=Bs(q.props.children,j.mode,J,q.key),J.return=j,j=J):(J=Tc(q.type,q.key,q.props,null,j.mode,J),ol(J,q),J.return=j,j=J)}return v(j);case m:e:{for(he=q.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),J=f(k,q.children||[]),J.return=j,j=J;break e}else{a(j,k);break}else r(j,k);k=k.sibling}J=Sd(q,j.mode,J),J.return=j,j=J}return v(j);case Z:return he=q._init,q=he(q._payload),ht(j,k,q,J)}if(le(q))return fe(j,k,q,J);if(de(q)){if(he=de(q),typeof he!="function")throw Error(s(150));return q=he.call(q),we(j,k,q,J)}if(typeof q.then=="function")return ht(j,k,nc(q),J);if(q.$$typeof===x)return ht(j,k,_c(j,q),J);ic(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),J=f(k,q),J.return=j,j=J):(a(j,k),J=Td(q,j.mode,J),J.return=j,j=J),v(j)):a(j,k)}return function(j,k,q,J){try{al=0;var he=ht(j,k,q,J);return ka=null,he}catch(pe){if(pe===rl)throw pe;var xe=Vn(29,pe,null,j.mode);return xe.lanes=J,xe.return=j,xe}finally{}}}var xs=Pg(!0),Mg=Pg(!1),La=qe(null),rc=qe(0);function Vg(t,r){t=Qi,Xe(rc,t),Xe(La,r),Qi=t|r.baseLanes}function If(){Xe(rc,Qi),Xe(La,La.current)}function Df(){Qi=rc.current,ot(La),ot(rc)}var xn=qe(null),ui=null;function Cr(t){var r=t.alternate;Xe(Rt,Rt.current&1),Xe(xn,t),ui===null&&(r===null||La.current!==null||r.memoizedState!==null)&&(ui=t)}function kg(t){if(t.tag===22){if(Xe(Rt,Rt.current),Xe(xn,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else Ir()}function Ir(){Xe(Rt,Rt.current),Xe(xn,xn.current)}function Ui(t){ot(xn),ui===t&&(ui=null),ot(Rt)}var Rt=qe(0);function sc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var xb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Pb=i.unstable_scheduleCallback,Mb=i.unstable_NormalPriority,Ct={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new xb,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&Pb(Mb,function(){t.controller.abort()})}var ul=null,Nf=0,Ua=0,ja=null;function Vb(t,r){if(ul===null){var a=ul=[];Nf=0,Ua=Ld(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,r.then(Lg,Lg),r}function Lg(){if(--Nf===0&&ul!==null){ja!==null&&(ja.status="fulfilled");var t=ul;ul=null,Ua=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function kb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ug=A.S;A.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Vb(t,r),Ug!==null&&Ug(t,r)};var Ps=qe(null);function xf(){var t=Ps.current;return t!==null?t:et.pooledCache}function ac(t,r){r===null?Xe(Ps,Ps.current):Xe(Ps,r.pool)}function jg(){var t=xf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Dr=0,Ne=null,We=null,_t=null,oc=!1,za=!1,Ms=!1,lc=0,cl=0,Ba=null,Lb=0;function pt(){throw Error(s(321))}function Pf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function Mf(t,r,a,l,f,d){return Dr=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=t===null||t.memoizedState===null?Vs:Or,Ms=!1,d=a(l,f),Ms=!1,za&&(d=Bg(r,a,l,f)),zg(t),d}function zg(t){A.H=ci;var r=We!==null&&We.next!==null;if(Dr=0,_t=We=Ne=null,oc=!1,cl=0,Ba=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&yc(t)&&(Vt=!0))}function Bg(t,r,a,l){Ne=t;var f=0;do{if(za&&(Ba=null),cl=0,za=!1,25<=f)throw Error(s(301));if(f+=1,_t=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=ks,d=r(a,l)}while(za);return d}function Ub(){var t=A.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Vf(){var t=lc!==0;return lc=0,t}function kf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Lf(t){if(oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}oc=!1}Dr=0,_t=We=Ne=null,za=!1,cl=lc=0,Ba=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ne.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=_t===null?Ne.memoizedState:_t.next;if(r!==null)_t=r,We=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},_t===null?Ne.memoizedState=_t=t:_t=_t.next=t}return _t}var uc;uc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(t){var r=cl;return cl+=1,Ba===null&&(Ba=[]),t=Og(Ba,t,r),r=Ne,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Vs:Or),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===x)return $t(t)}throw Error(s(438,String(t)))}function Uf(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=uc(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=oe;return r.index++,a}function ji(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=vt();return jf(r,We,t)}function jf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=v=null,I=null,U=r,X=!1;do{var te=U.lane&-536870913;if(te!==U.lane?(Be&te)===te:(Dr&te)===te){var K=U.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),te===Ua&&(X=!0);else if((Dr&K)===K){U=U.next,K===Ua&&(X=!0);continue}else te={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=te,v=d):I=I.next=te,Ne.lanes|=K,jr|=K;te=U.action,Ms&&a(d,te),d=U.hasEagerState?U.eagerState:a(d,te)}else K={lane:te,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=K,v=d):I=I.next=K,Ne.lanes|=te,jr|=te;U=U.next}while(U!==null&&U!==r);if(I===null?v=d:I.next=T,!pn(d,t.memoizedState)&&(Vt=!0,X&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);pn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(t,r,a){var l=Ne,f=vt(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((We||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,qf(Gg.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Fg.bind(null,l,f,a,r),{destroy:void 0},null),et===null)throw Error(s(349));d||(Dr&60)!==0||qg(l,r,a)}return a}function qg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=uc(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fg(t,r,a,l){r.value=a,r.getSnapshot=l,Kg(r)&&$g(t)}function Gg(t,r,a){return a(function(){Kg(r)&&$g(t)})}function Kg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function $g(t){var r=Rr(t,2);r!==null&&an(r,t,2)}function Bf(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),Ms){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},r}function Qg(t,r,a,l){return t.baseState=a,jf(t,We,typeof l=="function"?l:ji)}function jb(t,r,a,l,f){if(mc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Yg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Yg(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=A.T,v={};A.T=v;try{var T=a(f,l),I=A.S;I!==null&&I(v,T),Xg(t,r,T)}catch(U){Hf(t,r,U)}finally{A.T=d}}else try{d=a(f,l),Xg(t,r,d)}catch(U){Hf(t,r,U)}}function Xg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(t,r,l)},function(l){return Hf(t,r,l)}):Wg(t,r,a)}function Wg(t,r,a){r.status="fulfilled",r.value=a,Zg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Yg(t,a)))}function Hf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zg(r),r=r.next;while(r!==l)}t.action=null}function Zg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jg(t,r){return r}function ey(t,r){if(Ge){var a=et.formState;if(a!==null){e:{var l=Ne;if(Ge){if(zt){t:{for(var f=zt,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){zt=Kn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:r},a.queue=l,a=_y.bind(null,Ne,l),l.dispatch=a,l=Bf(!1),d=Qf.bind(null,Ne,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=jb.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function ty(t){var r=vt();return ny(r,We,t)}function ny(t,r,a){r=jf(t,r,Jg)[0],t=hc(ji)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?hl(r):r;var l=vt(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Ne.flags|=2048,Ha(9,zb.bind(null,f,a),{destroy:void 0},null)),[r,d,t]}function zb(t,r){t.action=r}function iy(t){var r=vt(),a=We;if(a!==null)return ny(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ha(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Ne.updateQueue,r===null&&(r=uc(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ry(){return vt().memoizedState}function fc(t,r,a,l){var f=un();Ne.flags|=t,f.memoizedState=Ha(1|r,a,{destroy:void 0},l===void 0?null:l)}function dc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Pf(l,We.memoizedState.deps)?f.memoizedState=Ha(r,a,d,l):(Ne.flags|=t,f.memoizedState=Ha(1|r,a,d,l))}function sy(t,r){fc(8390656,8,t,r)}function qf(t,r){dc(2048,8,t,r)}function ay(t,r){return dc(4,2,t,r)}function oy(t,r){return dc(4,4,t,r)}function ly(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function uy(t,r,a){a=a!=null?a.concat([t]):null,dc(4,4,ly.bind(null,r,t),a)}function Ff(){}function cy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Pf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function hy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Pf(r,l[1]))return l[0];if(l=t(),Ms){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function Gf(t,r,a){return a===void 0||(Dr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=d_(),Ne.lanes|=t,jr|=t,a)}function fy(t,r,a,l){return pn(a,r)?a:La.current!==null?(t=Gf(t,a,l),pn(t,r)||(Vt=!0),t):(Dr&42)===0?(Vt=!0,t.memoizedState=a):(t=d_(),Ne.lanes|=t,jr|=t,r)}function dy(t,r,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=A.T,T={};A.T=T,Qf(t,!1,r,a);try{var I=f(),U=A.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=kb(I,l);fl(t,r,X,vn(t))}else fl(t,r,l,vn(t))}catch(te){fl(t,r,{then:function(){},status:"rejected",reason:te},vn())}finally{ue.p=d,A.T=v}}function Bb(){}function Kf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=my(t).queue;dy(t,f,r,Oe,a===null?Bb:function(){return py(t),a(l)})}function my(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function py(t){var r=my(t).next.queue;fl(t,r,{},vn())}function $f(){return $t(xl)}function gy(){return vt().memoizedState}function yy(){return vt().memoizedState}function Hb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();t=Pr(a);var l=Mr(r,t,a);l!==null&&(an(l,r,a),pl(l,r,a)),r={cache:Of()},t.payload=r;return}r=r.return}}function qb(t,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?vy(r,a):(a=bf(t,r,a,l),a!==null&&(an(a,t,l),Ey(a,r,l)))}function _y(t,r,a){var l=vn();fl(t,r,a,l)}function fl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))vy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,v))return Wu(t,r,f,0),et===null&&Xu(),!1}catch{}finally{}if(a=bf(t,r,f,l),a!==null)return an(a,t,l),Ey(a,r,l),!0}return!1}function Qf(t,r,a,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&an(r,t,2)}function mc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function vy(t,r){za=oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ey(t,r,a){if((a&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,gr(t,a)}}var ci={readContext:$t,use:cc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};ci.useCacheRefresh=pt,ci.useMemoCache=pt,ci.useHostTransitionStatus=pt,ci.useFormState=pt,ci.useActionState=pt,ci.useOptimistic=pt;var Vs={readContext:$t,use:cc,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:sy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,fc(4194308,4,ly.bind(null,r,t),a)},useLayoutEffect:function(t,r){return fc(4194308,4,t,r)},useInsertionEffect:function(t,r){fc(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(Ms){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(Ms){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=qb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=Bf(t);var r=t.queue,a=_y.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,r){var a=un();return Gf(a,t,r)},useTransition:function(){var t=Bf(!1);return t=dy.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,f=un();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Be&60)!==0||qg(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,sy(Gg.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,Fg.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=un(),r=et.identifierPrefix;if(Ge){var a=Li,l=ki;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Lb++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return un().memoizedState=Hb.bind(null,Ne)}};Vs.useMemoCache=Uf,Vs.useHostTransitionStatus=$f,Vs.useFormState=ey,Vs.useActionState=ey,Vs.useOptimistic=function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qf.bind(null,Ne,!0,a),a.dispatch=r,[t,r]};var Or={readContext:$t,use:cc,useCallback:cy,useContext:$t,useEffect:qf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:hc,useRef:ry,useState:function(){return hc(ji)},useDebugValue:Ff,useDeferredValue:function(t,r){var a=vt();return fy(a,We.memoizedState,t,r)},useTransition:function(){var t=hc(ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:Hg,useId:gy};Or.useCacheRefresh=yy,Or.useMemoCache=Uf,Or.useHostTransitionStatus=$f,Or.useFormState=ty,Or.useActionState=ty,Or.useOptimistic=function(t,r){var a=vt();return Qg(a,We,t,r)};var ks={readContext:$t,use:cc,useCallback:cy,useContext:$t,useEffect:qf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:zf,useRef:ry,useState:function(){return zf(ji)},useDebugValue:Ff,useDeferredValue:function(t,r){var a=vt();return We===null?Gf(a,t,r):fy(a,We.memoizedState,t,r)},useTransition:function(){var t=zf(ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:Hg,useId:gy};ks.useCacheRefresh=yy,ks.useMemoCache=Uf,ks.useHostTransitionStatus=$f,ks.useFormState=iy,ks.useActionState=iy,ks.useOptimistic=function(t,r){var a=vt();return We!==null?Qg(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Yf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=vn(),f=Pr(l);f.payload=r,a!=null&&(f.callback=a),r=Mr(t,f,l),r!==null&&(an(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=vn(),f=Pr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Mr(t,f,l),r!==null&&(an(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=vn(),l=Pr(a);l.tag=2,r!=null&&(l.callback=r),r=Mr(t,l,a),r!==null&&(an(r,t,a),pl(r,t,a))}};function Ty(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(f,d):!0}function Sy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Xf.enqueueReplaceState(r,r.state,null)}function Ls(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=D({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function by(t){pc(t)}function Ay(t){console.error(t)}function wy(t){pc(t)}function gc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wf(t,r,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,r)},a}function Cy(t){return t=Pr(t),t.tag=3,t}function Iy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ry(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ry(r,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Fb(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ml(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ui===null?xd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Md(t,l,f)),!1;case 22:return a.flags|=65536,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Md(t,l,f)),!1}throw Error(s(435,a.tag))}return Md(t,l,f),xd(),!1}if(Ge)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Rf&&(t=Error(s(422),{cause:l}),il(Dn(t,a)))):(l!==Rf&&(r=Error(s(423),{cause:l}),il(Dn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=Wf(t.stateNode,l,f),fd(t,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),bl===null?bl=[d]:bl.push(d),ct!==4&&(ct=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Wf(a.stateNode,l,t),fd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Cy(f),Iy(f,t,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var Dy=Error(s(461)),Vt=!1;function Bt(t,r,a,l){r.child=t===null?Mg(r,null,a,l):xs(r,t.child,a,l)}function Oy(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(r),l=Mf(t,r,a,v,d,f),T=Vf(),t!==null&&!Vt?(kf(t,r,f),zi(t,r,f)):(Ge&&T&&Af(r),r.flags|=1,Bt(t,r,l,f),r.child)}function Ny(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Ed(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,xy(t,r,d,l,f)):(t=Tc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!ad(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&t.ref===r.ref)return zi(t,r,f)}return r.flags|=1,t=Ur(d,l),t.ref=r.ref,t.return=r,r.child=t}function xy(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,ad(t,f))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,zi(t,r,f)}return Zf(t,r,a,l,f)}function Py(t,r,a){var l=r.pendingProps,f=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(dl(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return My(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(r,v!==null?v.cachePool:null),v!==null?Vg(r,v):If(),kg(r);else return r.lanes=r.childLanes=536870912,My(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(ac(r,v.cachePool),Vg(r,v),Ir(),r.memoizedState=null):(t!==null&&ac(r,null),If(),Ir());return Bt(t,r,f,a),r.child}function My(t,r,a,l){var f=xf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&ac(r,null),If(),kg(r),t!==null&&ml(t,r,l,!0),null}function dl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function Zf(t,r,a,l,f){return js(r),a=Mf(t,r,a,l,void 0,f),l=Vf(),t!==null&&!Vt?(kf(t,r,f),zi(t,r,f)):(Ge&&l&&Af(r),r.flags|=1,Bt(t,r,a,f),r.child)}function Vy(t,r,a,l,f,d){return js(r),r.updateQueue=null,a=Bg(r,l,a,f),zg(t),l=Vf(),t!==null&&!Vt?(kf(t,r,d),zi(t,r,d)):(Ge&&l&&Af(r),r.flags|=1,Bt(t,r,a,d),r.child)}function ky(t,r,a,l,f){if(js(r),r.stateNode===null){var d=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},cd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Pa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),yl(r,l,d,f),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Ls(a,T);d.props=I;var U=d.context,X=a.contextType;v=Pa,typeof X=="object"&&X!==null&&(v=$t(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&Sy(r,d,l,v),xr=!1;var K=r.memoizedState;d.state=K,yl(r,l,d,f),gl(),U=r.memoizedState,T||K!==U||xr?(typeof te=="function"&&(Yf(r,a,te,l),U=r.memoizedState),(I=xr||Ty(r,a,I,l,K,U,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,hd(t,r),v=r.memoizedProps,X=Ls(a,v),d.props=X,te=r.pendingProps,K=d.context,U=a.contextType,I=Pa,typeof U=="object"&&U!==null&&(I=$t(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||K!==I)&&Sy(r,d,l,I),xr=!1,K=r.memoizedState,d.state=K,yl(r,l,d,f),gl();var Y=r.memoizedState;v!==te||K!==Y||xr||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof T=="function"&&(Yf(r,a,T,l),Y=r.memoizedState),(X=xr||Ty(r,a,X,l,K,Y,I)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,dl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=xs(r,t.child,null,f),r.child=xs(r,null,a,f)):Bt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=zi(t,r,f),t}function Ly(t,r,a,l){return nl(),r.flags|=256,Bt(t,r,a,l),r.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function ed(t){return{baseLanes:t,cachePool:jg()}}function td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function Uy(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(f?Cr(r):Ir(),Ge){var T=zt,I;if(I=T){e:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break e}if(I=Kn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:ki,overflow:Li}:null,retryLane:536870912},I=Vn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,sn=r,zt=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Ui(r)}return T=l.children,l=l.fallback,f?(Ir(),f=r.mode,T=id({mode:"hidden",children:T},f),l=Bs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=ed(a),f.childLanes=td(t,v,a),r.memoizedState=Jf,l):(Cr(r),nd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Cr(r),r.flags&=-257,r=rd(t,r,a)):r.memoizedState!==null?(Ir(),r.child=t.child,r.flags|=128,r=null):(Ir(),f=l.fallback,T=r.mode,l=id({mode:"visible",children:l.children},T),f=Bs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,xs(r,t.child,null,a),l=r.child,l.memoizedState=ed(a),l.childLanes=td(t,v,a),r.memoizedState=Jf,r=f);else if(Cr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),r=rd(t,r,a)}else if(Vt||ml(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Rr(t,l),an(v,t,l),Dy}T.data==="$?"||xd(),r=rd(t,r,a)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=sA.bind(null,t),T._reactRetry=r,r=null):(t=I.treeContext,zt=Kn(T.nextSibling),sn=r,Ge=!0,Fn=null,li=!1,t!==null&&(On[Nn++]=ki,On[Nn++]=Li,On[Nn++]=Ds,ki=t.id,Li=t.overflow,Ds=r),r=nd(r,l.children),r.flags|=4096);return r}return f?(Ir(),f=l.fallback,T=r.mode,I=t.child,U=I.sibling,l=Ur(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=Ur(U,f):(f=Bs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=t.child.memoizedState,T===null?T=ed(a):(I=T.cachePool,I!==null?(U=Ct._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=jg(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=td(t,v,a),r.memoizedState=Jf,l):(Cr(r),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function nd(t,r){return r=id({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function id(t,r){return c_(t,r,0,null)}function rd(t,r,a){return xs(r,t.child,null,a),t=nd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ld(t.return,r,a)}function sd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function zy(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,r);else if(t.tag===19)jy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Xe(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),sd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&sc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}sd(r,!0,a,null,d);break;case"together":sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),jr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ml(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ur(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function Gb(t,r,a){switch(r.tag){case 3:cr(r,r.stateNode.containerInfo),Nr(r,Ct,t.memoizedState.cache),nl();break;case 27:case 5:xo(r);break;case 4:cr(r,r.stateNode.containerInfo);break;case 10:Nr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uy(t,r,a):(Cr(r),t=zi(t,r,a),t!==null?t.sibling:null);Cr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ml(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return zy(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Py(t,r,a);case 24:Nr(r,Ct,t.memoizedState.cache)}return zi(t,r,a)}function By(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!ad(t,a)&&(r.flags&128)===0)return Vt=!1,Gb(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(r.flags&1048576)!==0&&wg(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Ed(l)?(t=Ls(l,t),r.tag=1,r=ky(null,r,l,t,a)):(r.tag=0,r=Zf(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===O){r.tag=11,r=Oy(null,r,l,t,a);break e}else if(f===G){r.tag=14,r=Ny(null,r,l,t,a);break e}}throw r=w(l)||l,Error(s(306,r,""))}}return r;case 0:return Zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ls(l,r.pendingProps),ky(t,r,l,f,a);case 3:e:{if(cr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,l=f.element,hd(t,r),yl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Nr(r,Ct,d),d!==f.cache&&ud(r,[Ct],a,!0),gl(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ly(t,r,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),r),il(l),r=Ly(t,r,d,a);break e}else for(zt=Kn(r.stateNode.containerInfo.firstChild),sn=r,Ge=!0,Fn=null,li=!0,a=Mg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nl(),d===l){r=zi(t,r,a);break e}Bt(t,r,d,a)}r=r.child}return r;case 26:return dl(t,r),t===null?(a=F_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,t=r.pendingProps,l=Pc(Tn.current).createElement(a),l[xt]=r,l[bt]=t,Ht(l,a,t),nt(l),r.stateNode=l):r.memoizedState=F_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xo(r),t===null&&Ge&&(l=r.stateNode=B_(r.type,r.pendingProps,Tn.current),sn=r,li=!0,zt=Kn(l.firstChild)),l=r.pendingProps.children,t!==null||Ge?Bt(t,r,l,a):r.child=xs(r,null,l,a),dl(t,r),r.child;case 5:return t===null&&Ge&&((f=l=zt)&&(l=TA(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,sn=r,zt=Kn(l.firstChild),li=!1,f=!0):f=!1),f||Ns(r)),xo(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Kd(f,d)?l=null:v!==null&&Kd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Mf(t,r,Ub,null,null,a),xl._currentValue=f),dl(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Ge&&((t=a=zt)&&(a=SA(a,r.pendingProps,li),a!==null?(r.stateNode=a,sn=r,zt=null,t=!0):t=!1),t||Ns(r)),null;case 13:return Uy(t,r,a);case 4:return cr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=xs(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return Oy(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Nr(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,js(r),f=$t(f),l=l(f),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return Ny(t,r,r.type,r.pendingProps,a);case 15:return xy(t,r,r.type,r.pendingProps,a);case 19:return zy(t,r,a);case 22:return Py(t,r,a);case 24:return js(r),l=$t(Ct),t===null?(f=xf(),f===null&&(f=et,d=Of(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},cd(r),Nr(r,Ct,f)):((t.lanes&a)!==0&&(hd(t,r),yl(r,null,null,a),gl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Nr(r,Ct,l)):(l=d.cache,Nr(r,Ct,l),l!==f.cache&&ud(r,[Ct],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var od=qe(null),Us=null,Bi=null;function Nr(t,r,a){Xe(od,r._currentValue),r._currentValue=a}function Hi(t){t._currentValue=od.current,ot(od)}function ld(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ud(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ld(d.return,a,t),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ld(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ml(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;pn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===ur.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}f=f.return}t!==null&&ud(r,t,a,l),r.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Us=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Hy(Us,t)}function _c(t,r){return Us===null&&js(t),Hy(t,r)}function Hy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Bi=Bi.next=r;return a}var xr=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Zu(t),bg(t,null,a),r}return Wu(t,l,r,a),Zu(t)}function pl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,gr(t,a)}}function fd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var dd=!1;function gl(){if(dd){var t=ja;if(t!==null)throw t}}function yl(t,r,a,l){dd=!1;var f=t.updateQueue;xr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,U=I.next;I.next=null,v===null?d=U:v.next=U,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=U:T.next=U,X.lastBaseUpdate=I))}if(d!==null){var te=f.baseState;v=0,X=U=I=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Be&K)===K:(l&K)===K){K!==0&&K===Ua&&(dd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,we=T;K=r;var ht=a;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){te=fe.call(ht,te,K);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,K=typeof fe=="function"?fe.call(ht,te,K):fe,K==null)break e;te=D({},te,K);break e;case 2:xr=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(U=X=Y,I=te):X=X.next=Y,v|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=te),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=te}}function qy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Fy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qy(a[t],r)}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Je(r,r.return,T)}}function Vr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var I=a;try{T()}catch(U){Je(f,I,U)}}}l=l.next}while(l!==d)}}catch(U){Je(r,r.return,U)}}function Gy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Fy(r,a)}catch(l){Je(t,t.return,l)}}}function Ky(t,r,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function zs(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){Je(t,r,d)}}function gn(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,r,f)}else a.current=null}function $y(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Qy(t,r,a){try{var l=t.stateNode;gA(l,t.type,a,r),l[bt]=r}catch(f){Je(t,t.return,f)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(pd(t,r,a),t=t.sibling;t!==null;)pd(t,r,a),t=t.sibling}function vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(vc(t,r,a),t=t.sibling;t!==null;)vc(t,r,a),t=t.sibling}var qi=!1,ut=!1,gd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,kt=null,Wy=!1;function Kb(t,r){if(t=t.containerInfo,Fd=jc,t=mg(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,U=0,X=0,te=t,K=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(T=v+f),te!==d||l!==0&&te.nodeType!==3||(I=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===t)break t;if(K===a&&++U===f&&(T=v),K===d&&++X===l&&(I=v),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},jc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ls(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Je(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}return fe=Wy,Wy=!1,fe}function Zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&_l(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){Je(a,a.return,T)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(a,a.return,T)}}l&64&&Gy(a),l&512&&zs(a,a.return);break;case 3:if(Gi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fy(l,t)}catch(T){Je(a,a.return,T)}}break;case 26:Gi(t,a),l&512&&zs(a,a.return);break;case 27:case 5:Gi(t,a),r===null&&l&4&&$y(a),l&512&&zs(a,a.return);break;case 12:Gi(t,a);break;case 13:Gi(t,a),l&4&&t_(t,a);break;case 22:if(f=a.memoizedState!==null||qi,!f){r=r!==null&&r.memoizedState!==null||ut;var d=qi,v=ut;qi=f,(ut=r)&&!v?kr(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),qi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?zs(a,a.return):gn(a,a.return));break;default:Gi(t,a)}}function Jy(t){var r=t.alternate;r!==null&&(t.alternate=null,Jy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,yn=!1;function Fi(t,r,a){for(a=a.child;a!==null;)e_(t,r,a),a=a.sibling}function e_(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(hr,a)}catch{}switch(a.tag){case 26:ut||gn(a,r),Fi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||gn(a,r);var l=Et,f=yn;for(Et=a.stateNode,Fi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);gs(a),Et=l,yn=f;break;case 5:ut||gn(a,r);case 6:f=Et;var d=yn;if(Et=null,Fi(t,r,a),Et=f,yn=d,Et!==null)if(yn)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Je(a,r,v)}else try{Et.removeChild(a.stateNode)}catch(v){Je(a,r,v)}break;case 18:Et!==null&&(yn?(r=Et,a=a.stateNode,r.nodeType===8?Qd(r.parentNode,a):r.nodeType===1&&Qd(r,a),kl(r)):Qd(Et,a.stateNode));break;case 4:l=Et,f=yn,Et=a.stateNode.containerInfo,yn=!0,Fi(t,r,a),Et=l,yn=f;break;case 0:case 11:case 14:case 15:ut||Vr(2,a,r),ut||Vr(4,a,r),Fi(t,r,a);break;case 1:ut||(gn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,r,l)),Fi(t,r,a);break;case 21:Fi(t,r,a);break;case 22:ut||gn(a,r),ut=(l=ut)||a.memoizedState!==null,Fi(t,r,a),ut=l;break;default:Fi(t,r,a)}}function t_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Je(r,r.return,a)}}function $b(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Xy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Xy),r;default:throw Error(s(435,t.tag))}}function yd(t,r){var a=$b(t);r.forEach(function(l){var f=aA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:Et=T.stateNode,yn=!1;break e;case 3:Et=T.stateNode.containerInfo,yn=!0;break e;case 4:Et=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(Et===null)throw Error(s(160));e_(d,v,f),Et=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)n_(r,t),r=r.sibling}var Gn=null;function n_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(r,t),Mn(t),l&4&&(Vr(3,t,t.return),_l(3,t),Vr(5,t,t.return));break;case 1:Pn(r,t),Mn(t),l&512&&(ut||a===null||gn(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(Pn(r,t),Mn(t),l&512&&(ut||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_r]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ht(d,l,a),d[xt]=t,nt(d),l=d;break e;case"link":var v=$_("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;case"meta":if(v=$_("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,nt(d),l=d}t.stateNode=l}else Q_(f,t.type,t.stateNode);else t.stateNode=K_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(f,t.type,t.stateNode):K_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,X=I.nodeName;I[_r]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var te=t.type,K=f.attributes;K.length;)f.removeAttributeNode(K[0]);Ht(f,te,d),f[xt]=t,f[bt]=d}catch(fe){Je(t,t.return,fe)}}case 5:if(Pn(r,t),Mn(t),l&512&&(ut||a===null||gn(a,a.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Qy(t,f,a!==null?a.memoizedProps:f)),l&1024&&(gd=!0);break;case 6:if(Pn(r,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(kc=null,f=Gn,Gn=Mc(r.containerInfo),Pn(r,t),Gn=f,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(fe){Je(t,t.return,fe)}gd&&(gd=!1,i_(t));break;case 4:l=Gn,Gn=Mc(t.stateNode.containerInfo),Pn(r,t),Mn(t),Gn=l;break;case 12:Pn(r,t),Mn(t);break;case 13:Pn(r,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 22:if(l&512&&(ut||a===null||gn(a,a.return)),I=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=qi,te=ut,qi=X||I,ut=te||U,Pn(r,t),ut=te,qi=X,Mn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=qi||ut,a===null||U||r||qa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,I)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=U.stateNode,T=U.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Je(U,U.return,fe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(fe){Je(U,U.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(t,a))));break;case 19:Pn(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 21:break;default:Pn(r,t),Mn(t)}}function Mn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Yy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=md(t);vc(t,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=md(t);vc(t,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,U=md(t);pd(t,U,I);break;default:throw Error(s(161))}}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function i_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;i_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Gi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zy(t,r.alternate,r),r=r.sibling}function qa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Vr(4,r,r.return),qa(r);break;case 1:gn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ky(r,r.return,a),qa(r);break;case 26:case 27:case 5:gn(r,r.return),qa(r);break;case 22:gn(r,r.return),r.memoizedState===null&&qa(r);break;default:qa(r)}t=t.sibling}}function kr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(f,d,a),_l(4,d);break;case 1:if(kr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Je(l,l.return,U)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)qy(I[f],T)}catch(U){Je(l,l.return,U)}}a&&v&64&&Gy(d),zs(d,d.return);break;case 26:case 27:case 5:kr(f,d,a),a&&l===null&&v&4&&$y(d),zs(d,d.return);break;case 12:kr(f,d,a);break;case 13:kr(f,d,a),a&&v&4&&t_(f,d);break;case 22:d.memoizedState===null&&kr(f,d,a),zs(d,d.return);break;default:kr(f,d,a)}r=r.sibling}}function _d(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function Lr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r_(t,r,a,l),r=r.sibling}function r_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Lr(t,r,a,l),f&2048&&_l(9,r);break;case 3:Lr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){Lr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else Lr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Lr(t,r,a,l):vl(t,r):d._visibility&4?Lr(t,r,a,l):(d._visibility|=4,Fa(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&_d(r.alternate,r);break;case 24:Lr(t,r,a,l),f&2048&&vd(r.alternate,r);break;default:Lr(t,r,a,l)}}function Fa(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,T,I,f),_l(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?Fa(d,v,T,I,f):vl(d,v):(X._visibility|=4,Fa(d,v,T,I,f)),f&&U&2048&&_d(v.alternate,v);break;case 24:Fa(d,v,T,I,f),f&&U&2048&&vd(v.alternate,v);break;default:Fa(d,v,T,I,f)}r=r.sibling}}function vl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&_d(l.alternate,l);break;case 24:vl(a,l),f&2048&&vd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ga(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 26:Ga(t),t.flags&El&&t.memoizedState!==null&&VA(Gn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var r=Gn;Gn=Mc(t.stateNode.containerInfo),Ga(t),Gn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ga(t),El=r):Ga(t));break;default:Ga(t)}}function a_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,l_(l,t)}a_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Ec(t)):Tl(t);break;default:Tl(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,l_(l,t)}a_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Vr(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ec(r));break;default:Ec(r)}t=t.sibling}}function l_(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(Jy(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}function Qb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,r,a,l){return new Qb(t,r,a,l)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,r){var a=t.alternate;return a===null?(a=Vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function u_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Tc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Ed(t)&&(v=1);else if(typeof t=="string")v=PA(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Bs(a.children,f,d,r);case g:v=8,f|=24;break;case E:return t=Vn(12,a,r,f|2),t.elementType=E,t.lanes=d,t;case H:return t=Vn(13,a,r,f),t.elementType=H,t.lanes=d,t;case P:return t=Vn(19,a,r,f),t.elementType=P,t.lanes=d,t;case W:return c_(a,f,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case x:v=10;break e;case R:v=9;break e;case O:v=11;break e;case G:v=14;break e;case Z:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Vn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Bs(t,r,a,l){return t=Vn(7,t,l,r),t.lanes=a,t}function c_(t,r,a,l){t=Vn(22,t,l,r),t.elementType=W,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Rr(d,2);v!==null&&(f._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Rr(d,2);v!==null&&(f._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=f,t}function Td(t,r,a){return t=Vn(6,t,null,r),t.lanes=a,t}function Sd(t,r,a){return r=Vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ki(t){t.flags|=4}function h_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(r)){if(r=xn.current,r!==null&&((Be&4194176)===Be?ui!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==ui))throw sl=Cf,Ig;t.flags|=8192}}function Sc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?mr():536870912,t.lanes|=r,$a|=r)}function Sl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Yb(t,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(Ct),wi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(r)?Ki(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fn!==null&&(Od(Fn),Fn=null))),it(r),null;case 26:return a=r.memoizedState,t===null?(Ki(r),a!==null?(it(r),h_(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ki(r),it(r),h_(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ki(r),it(r),r.flags&=-16777217),null;case 27:fa(r),a=Tn.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=en.current,tl(r)?Rg(r):(t=B_(f,l,a),r.stateNode=t,Ki(r))}return it(r),null;case 5:if(fa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=en.current,tl(r))Rg(r);else{switch(f=Pc(Tn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[xt]=r,t[bt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ki(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Tn.current,tl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(t.nodeValue,a)),t||Ns(r)}else t=Pc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=tl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else Fn!==null&&(Od(Fn),Fn=null),f=!0;if(!f)return r.flags&256?(Ui(r),r):(Ui(r),null)}if(Ui(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),it(r),null;case 4:return wi(),t===null&&Bd(r.stateNode.containerInfo),it(r),null;case 10:return Hi(r.type),it(r),null;case 19:if(ot(Rt),f=r.memoizedState,f===null)return it(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Sl(f,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=sc(t),d!==null){for(r.flags|=128,Sl(f,!1),t=d.updateQueue,r.updateQueue=t,Sc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)u_(a,t),a=a.sibling;return Xe(Rt,Rt.current&1|2),r.child}t=t.sibling}f.tail!==null&&on()>bc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(t=sc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Sc(r,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ge)return it(r),null}else 2*on()-f.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=on(),r.sibling=null,t=Rt.current,Xe(Rt,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Ui(r),Df(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ot(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hi(Ct),it(r),null;case 25:return null}throw Error(s(156,r.tag))}function Xb(t,r){switch(wf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hi(Ct),wi(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return fa(r),null;case 13:if(Ui(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ot(Rt),null;case 4:return wi(),null;case 10:return Hi(r.type),null;case 22:case 23:return Ui(r),Df(),t!==null&&ot(Ps),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Hi(Ct),null;case 25:return null;default:return null}}function f_(t,r){switch(wf(r),r.tag){case 3:Hi(Ct),wi();break;case 26:case 27:case 5:fa(r);break;case 4:wi();break;case 13:Ui(r);break;case 19:ot(Rt);break;case 10:Hi(r.type);break;case 22:case 23:Ui(r),Df(),t!==null&&ot(Ps);break;case 24:Hi(Ct)}}var Wb={getCacheForType:function(t){var r=$t(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Zb=typeof WeakMap=="function"?WeakMap:Map,rt=0,et=null,Pe=null,Be=0,tt=0,_n=null,$i=!1,Ka=!1,bd=!1,Qi=0,ct=0,jr=0,Hs=0,Ad=0,kn=0,$a=0,bl=null,hi=null,wd=!1,Rd=0,bc=1/0,Ac=null,zr=null,wc=!1,qs=null,Al=0,Cd=0,Id=null,wl=0,Dd=null;function vn(){if((rt&2)!==0&&Be!==0)return Be&-Be;if(A.T!==null){var t=Ua;return t!==0?t:Ld()}return Nu()}function d_(){kn===0&&(kn=(Be&536870912)===0||Ge?Lo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),kn}function an(t,r,a){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Qa(t,0),Yi(t,Be,kn,!1)),mt(t,a),((rt&2)===0||t!==et)&&(t===et&&((rt&2)===0&&(Hs|=a),ct===4&&Yi(t,Be,kn,!1)),fi(t))}function m_(t,r,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||dr(t,r),f=l?tA(t,r):Pd(t,r,!0),d=l;do{if(f===0){Ka&&!l&&Yi(t,r,0,!1);break}else if(f===6)Yi(t,r,0,!$i);else{if(a=t.current.alternate,d&&!Jb(a)){f=Pd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;f=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(Qa(T,v).flags|=256),v=Pd(T,v,!1),v!==2){if(bd&&!I){T.errorRecoveryDisabledLanes|=d,Hs|=d,f=4;break e}d=hi,hi=f,d!==null&&Od(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){Qa(t,0),Yi(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Yi(l,r,kn,!$i);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Rd+300-on(),10<d)){if(Yi(l,r,kn,!$i),Sn(l,0)!==0)break e;l.timeoutHandle=U_(p_.bind(null,l,a,hi,Ac,wd,r,kn,Hs,$a,$i,2,-0,0),d);break e}p_(l,a,hi,Ac,wd,r,kn,Hs,$a,$i,0,-0,0)}}break}while(!0);fi(t)}function Od(t){hi===null?hi=t:hi.push.apply(hi,t)}function p_(t,r,a,l,f,d,v,T,I,U,X,te,K){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:MA},s_(r),r=kA(),r!==null)){t.cancelPendingCommit=r(S_.bind(null,t,a,l,f,v,T,I,1,te,K)),Yi(t,d,v,!U);return}S_(t,a,l,f,v,T,I,X,te,K)}function Jb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yi(t,r,a,l){r&=~Ad,r&=~Hs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&pr(t,a,r)}function Rc(){return(rt&6)===0?(Rl(0),!1):!0}function Nd(){if(Pe!==null){if(tt===0)var t=Pe.return;else t=Pe,Bi=Us=null,Lf(t),ka=null,al=0,t=Pe;for(;t!==null;)f_(t.alternate,t),t=t.return;Pe=null}}function Qa(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_A(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nd(),et=t,Pe=a=Ur(t.current,null),Be=r,tt=0,_n=null,$i=!1,Ka=dr(t,r),bd=!1,$a=kn=Ad=Hs=jr=ct=0,hi=bl=null,wd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-tn(l),d=1<<f;r|=t[f],l&=~d}return Qi=r,Xu(),a}function g_(t,r){Ne=null,A.H=ci,r===rl?(r=Ng(),tt=3):r===Ig?(r=Ng(),tt=4):tt=r===Dy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,Pe===null&&(ct=1,gc(t,Dn(r,t.current)))}function y_(){var t=A.H;return A.H=ci,t===null?ci:t}function __(){var t=A.A;return A.A=Wb,t}function xd(){ct=4,$i||(Be&4194176)!==Be&&xn.current!==null||(Ka=!0),(jr&134217727)===0&&(Hs&134217727)===0||et===null||Yi(et,Be,kn,!1)}function Pd(t,r,a){var l=rt;rt|=2;var f=y_(),d=__();(et!==t||Be!==r)&&(Ac=null,Qa(t,r)),r=!1;var v=ct;e:do try{if(tt!==0&&Pe!==null){var T=Pe,I=_n;switch(tt){case 8:Nd(),v=6;break e;case 3:case 2:case 6:xn.current===null&&(r=!0);var U=tt;if(tt=0,_n=null,Ya(t,T,I,U),a&&Ka){v=0;break e}break;default:U=tt,tt=0,_n=null,Ya(t,T,I,U)}}eA(),v=ct;break}catch(X){g_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Bi=Us=null,rt=l,A.H=f,A.A=d,Pe===null&&(et=null,Be=0,Xu()),v}function eA(){for(;Pe!==null;)v_(Pe)}function tA(t,r){var a=rt;rt|=2;var l=y_(),f=__();et!==t||Be!==r?(Ac=null,bc=on()+500,Qa(t,r)):Ka=dr(t,r);e:do try{if(tt!==0&&Pe!==null){r=Pe;var d=_n;t:switch(tt){case 1:tt=0,_n=null,Ya(t,r,d,1);break;case 2:if(Dg(d)){tt=0,_n=null,E_(r);break}r=function(){tt===2&&et===t&&(tt=7),fi(t)},d.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Dg(d)?(tt=0,_n=null,E_(r)):(tt=0,_n=null,Ya(t,r,d,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var T=Pe;if(!v||Y_(v)){tt=0,_n=null;var I=T.sibling;if(I!==null)Pe=I;else{var U=T.return;U!==null?(Pe=U,Cc(U)):Pe=null}break t}}tt=0,_n=null,Ya(t,r,d,5);break;case 6:tt=0,_n=null,Ya(t,r,d,6);break;case 8:Nd(),ct=6;break e;default:throw Error(s(462))}}nA();break}catch(X){g_(t,X)}while(!0);return Bi=Us=null,A.H=l,A.A=f,rt=a,Pe!==null?0:(et=null,Be=0,Xu(),ct)}function nA(){for(;Pe!==null&&!of();)v_(Pe)}function v_(t){var r=By(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,r===null?Cc(t):Pe=r}function E_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Vy(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Vy(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Lf(r);default:f_(a,r),r=Pe=u_(r,Qi),r=By(a,r,Qi)}t.memoizedProps=t.pendingProps,r===null?Cc(t):Pe=r}function Ya(t,r,a,l){Bi=Us=null,Lf(r),ka=null,al=0;var f=r.return;try{if(Fb(t,f,r,a,Be)){ct=1,gc(t,Dn(a,t.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;ct=1,gc(t,Dn(a,t.current)),Pe=null;return}r.flags&32768?(Ge||l===1?t=!0:Ka||(Be&536870912)!==0?t=!1:($i=t=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(r,t)):Cc(r)}function Cc(t){var r=t;do{if((r.flags&32768)!==0){T_(r,$i);return}t=r.return;var a=Yb(r.alternate,r,Qi);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);ct===0&&(ct=5)}function T_(t,r){do{var a=Xb(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);ct=6,Pe=null}function S_(t,r,a,l,f,d,v,T,I,U){var X=A.T,te=ue.p;try{ue.p=2,A.T=null,iA(t,r,a,l,te,f,d,v,T,I,U)}finally{A.T=X,ue.p=te}}function iA(t,r,a,l,f,d,v,T){do Xa();while(qs!==null);if((rt&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=Sf,Du(t,l,U,d,v,T),t===et&&(Pe=et=null,Be=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||wc||(wc=!0,Cd=U,Id=a,oA(Ri,function(){return Xa(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=ue.p,ue.p=2,v=rt,rt|=4,Kb(t,I),n_(I,t),Cb(Gd,t.containerInfo),jc=!!Fd,Gd=Fd=null,t.current=I,Zy(t,I.alternate,I),Po(),rt=v,ue.p=d,A.T=a):t.current=I,wc?(wc=!1,qs=t,Al=l):b_(t,U),U=t.pendingLanes,U===0&&(zr=null),Vo(I.stateNode),fi(t),r!==null)for(f=t.onRecoverableError,I=0;I<r.length;I++)U=r[I],f(U.value,{componentStack:U.stack});return(Al&3)!==0&&Xa(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===Dd?wl++:(wl=0,Dd=t):wl=0,Rl(0),null}function b_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function Xa(){if(qs!==null){var t=qs,r=Cd;Cd=0;var a=Ou(Al),l=A.T,f=ue.p;try{if(ue.p=32>a?32:a,A.T=null,qs===null)var d=!1;else{a=Id,Id=null;var v=qs,T=Al;if(qs=null,Al=0,(rt&6)!==0)throw Error(s(331));var I=rt;if(rt|=4,o_(v.current),r_(v,v.current,T,a),rt=I,Rl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(hr,v)}catch{}d=!0}return d}finally{ue.p=f,A.T=l,b_(t,r)}}return!1}function A_(t,r,a){r=Dn(a,r),r=Wf(t.stateNode,r,2),t=Mr(t,r,2),t!==null&&(mt(t,2),fi(t))}function Je(t,r,a){if(t.tag===3)A_(t,t,a);else for(;r!==null;){if(r.tag===3){A_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Dn(a,t),a=Cy(2),l=Mr(r,a,2),l!==null&&(Iy(a,l,r,t),mt(l,2),fi(l));break}}r=r.return}}function Md(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Zb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(bd=!0,f.add(a),t=rA.bind(null,t,r,a),r.then(t,t))}function rA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Be&a)===a&&(ct===4||ct===3&&(Be&62914560)===Be&&300>on()-Rd?(rt&2)===0&&Qa(t,0):Ad|=a,$a===Be&&($a=0)),fi(t)}function w_(t,r){r===0&&(r=mr()),t=Rr(t,r),t!==null&&(mt(t,r),fi(t))}function sA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),w_(t,a)}function aA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),w_(t,a)}function oA(t,r){return ds(t,r)}var Ic=null,Wa=null,Vd=!1,Dc=!1,kd=!1,Fs=0;function fi(t){t!==Wa&&t.next===null&&(Wa===null?Ic=Wa=t:Wa=Wa.next=t),Dc=!0,Vd||(Vd=!0,uA(lA))}function Rl(t,r){if(!kd&&Dc){kd=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=f&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,I_(l,d))}else d=Be,d=Sn(l,l===et?d:0),(d&3)===0||dr(l,d)||(a=!0,I_(l,d));l=l.next}while(a);kd=!1}}function lA(){Dc=Vd=!1;var t=0;Fs!==0&&(yA()&&(t=Fs),Fs=0);for(var r=on(),a=null,l=Ic;l!==null;){var f=l.next,d=R_(l,r);d===0?(l.next=null,a===null?Ic=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=f}Rl(t)}function R_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,I=f[v];I===-1?((T&a)===0||(T&l)!==0)&&(f[v]=pa(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=Be,a=Sn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ma(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||dr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ma(l),Ou(a)){case 2:case 8:a=Nt;break;case 32:a=Ri;break;case 268435456:a=Mo;break;default:a=Ri}return l=C_.bind(null,t),a=ds(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ma(l),t.callbackPriority=2,t.callbackNode=null,2}function C_(t,r){var a=t.callbackNode;if(Xa()&&t.callbackNode!==a)return null;var l=Be;return l=Sn(t,t===et?l:0),l===0?null:(m_(t,l,r),R_(t,on()),t.callbackNode!=null&&t.callbackNode===a?C_.bind(null,t):null)}function I_(t,r){if(Xa())return null;m_(t,r,!0)}function uA(t){vA(function(){(rt&6)!==0?ds(St,t):t()})}function Ld(){return Fs===0&&(Fs=Lo()),Fs}function D_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function O_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function cA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=D_((f[bt]||null).action),v=l.submitter;v&&(r=(r=v[bt]||null)?D_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Sa("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var I=v?O_(f,v):new FormData(f);Kf(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?O_(f,v):new FormData(f),Kf(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Ud=0;Ud<Sg.length;Ud++){var jd=Sg[Ud],hA=jd.toLowerCase(),fA=jd[0].toUpperCase()+jd.slice(1);qn(hA,"on"+fA)}qn(yg,"onAnimationEnd"),qn(_g,"onAnimationIteration"),qn(vg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Db,"onTransitionRun"),qn(Ob,"onTransitionStart"),qn(Nb,"onTransitionCancel"),qn(Eg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function N_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=U;try{d(f)}catch(X){pc(X)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,U=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=U;try{d(f)}catch(X){pc(X)}f.currentTarget=null,d=I}}}}function Le(t,r){var a=r[ps];a===void 0&&(a=r[ps]=new Set);var l=t+"__bubble";a.has(l)||(x_(r,t,2,!1),a.add(l))}function zd(t,r,a){var l=0;r&&(l|=4),x_(a,t,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Oc]){t[Oc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||zd(a,!1,t),zd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,zd("selectionchange",!1,r))}}function x_(t,r,a,l){switch(tv(r)){case 2:var f=jA;break;case 8:f=zA;break;default:f=em}a=f.bind(null,r,a,t),f=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Hd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;v=v.return}for(;T!==null;){if(v=Hn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Vu(function(){var U=d,X=Ta(a),te=[];e:{var K=Tg.get(t);if(K!==void 0){var Y=Sa,fe=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":Y=Ia;break;case"focusin":fe="focus",Y=wa;break;case"focusout":fe="blur",Y=wa;break;case"beforeblur":case"afterblur":Y=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=qu;break;case yg:case _g:case vg:Y=Ra;break;case Eg:Y=Gu;break;case"scroll":case"scrollend":Y=ku;break;case"wheel":Y=Da;break;case"copy":case"cut":case"paste":Y=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wo;break;case"toggle":case"beforetoggle":Y=$u}var we=(r&4)!==0,ht=!we&&(t==="scroll"||t==="scrollend"),j=we?K!==null?K+"Capture":null:K;we=[];for(var k=U,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||j===null||(J=Es(k,j),J!=null&&we.push(Il(k,J,q))),ht)break;k=k.return}0<we.length&&(K=new Y(K,fe,null,a,X),te.push({event:K,listeners:we}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==wn&&(fe=a.relatedTarget||a.fromElement)&&(Hn(fe)||fe[Ci]))break e;if((Y||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=U,fe=fe?Hn(fe):null,fe!==null&&(ht=ge(fe),we=fe.tag,fe!==ht||we!==5&&we!==27&&we!==6)&&(fe=null)):(Y=null,fe=U),Y!==fe)){if(we=Cn,J="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(we=Wo,J="onPointerLeave",j="onPointerEnter",k="pointer"),ht=Y==null?K:vr(Y),q=fe==null?K:vr(fe),K=new we(J,k+"leave",Y,a,X),K.target=ht,K.relatedTarget=q,J=null,Hn(X)===U&&(we=new we(j,k+"enter",fe,a,X),we.target=q,we.relatedTarget=ht,J=we),ht=J,Y&&fe)t:{for(we=Y,j=fe,k=0,q=we;q;q=Za(q))k++;for(q=0,J=j;J;J=Za(J))q++;for(;0<k-q;)we=Za(we),k--;for(;0<q-k;)j=Za(j),q--;for(;k--;){if(we===j||j!==null&&we===j.alternate)break t;we=Za(we),j=Za(j)}we=null}else we=null;Y!==null&&P_(te,K,Y,we,!1),fe!==null&&ht!==null&&P_(te,ht,fe,we,!0)}}e:{if(K=U?vr(U):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var he=ag;else if(wt(K))if(og)he=wb;else{he=bb;var xe=Sb}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?U&&Fo(U.elementType)&&(he=ag):he=Ab;if(he&&(he=he(t,U))){Vi(te,he,a,X);break e}xe&&xe(t,K,U),t==="focusout"&&U&&K.type==="number"&&U.memoizedProps.value!=null&&Ea(K,"number",K.value)}switch(xe=U?vr(U):window,t){case"focusin":(wt(xe)||xe.contentEditable==="true")&&(Oa=xe,vf=U,el=null);break;case"focusout":el=vf=Oa=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,pg(te,a,X);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":pg(te,a,X)}var pe;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Ko()):(ni=X,wr="value"in ni?ni.value:ni.textContent,je=!0)),xe=Nc(U,ve),0<xe.length&&(ve=new Yo(ve,t,null,a,X),te.push({event:ve,listeners:xe}),pe?ve.data=pe:(pe=se(a),pe!==null&&(ve.data=pe)))),(pe=y?At(t,a):ze(t,a))&&(ve=Nc(U,"onBeforeInput"),0<ve.length&&(xe=new Yo("onBeforeInput","beforeinput",null,a,X),te.push({event:xe,listeners:ve}),xe.data=pe)),cA(te,t,U,a,X)}N_(te,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Nc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Es(t,a),f!=null&&l.unshift(Il(t,f,d)),f=Es(t,r),f!=null&&l.push(Il(t,f,d))),t=t.return}return l}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,f?(U=Es(a,d),U!=null&&v.unshift(Il(a,U,I))):f||(U=Es(a,d),U!=null&&v.push(Il(a,U,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(pA,"")}function V_(t,r){return r=M_(r),M_(t)===r}function xc(){}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":Sr(t,"class",l);break;case"tabIndex":Sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(t,a,l);break;case"style":Mu(t,l,d);break;case"data":if(r!=="object"){Sr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ti(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,Tr(t,a,l))}}function qd(t,r,a,l,f,d){switch(a){case"style":Mu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Tr(t,a,l)}}}function Ht(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,v,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=d=v=f=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":U=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(t,r,l,X,a,null)}}_s(t,d,T,I,U,v,f,!1),ys(t);return;case"select":Le("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,r,f,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Fe(t,!!l,r,!1):a!=null&&Fe(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,r,v,T,a,null)}Ar(t,l,f,d),ys(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,I,l,a,null)}return;case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Le(Cl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,U,l,a,null)}return;default:if(Fo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,r,T,l,a,null))}function gA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,I=null,U=null,X=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(Y)||Ze(t,r,Y,null,l,te)}}for(var K in l){var Y=l[K];if(te=a[K],l.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":d=Y;break;case"name":f=Y;break;case"checked":U=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Ze(t,r,K,Y,l,te)}}br(t,v,T,I,U,X,d,f);return;case"select":Y=v=T=K=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ze(t,r,f,d,l,I)}r=T,a=v,l=Y,K!=null?Fe(t,!!a,K,!1):!!l!=!!a&&(r!=null?Fe(t,!!a,r,!0):Fe(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,v,f,l,d)}vs(t,K,Y);return;case"option":for(var fe in a)if(K=a[fe],a.hasOwnProperty(fe)&&K!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,r,fe,null,l,K)}for(I in l)if(K=l[I],Y=a[I],l.hasOwnProperty(I)&&K!==Y&&(K!=null||Y!=null))switch(I){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(t,r,I,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we)&&Ze(t,r,we,null,l,K);for(U in l)if(K=l[U],Y=a[U],l.hasOwnProperty(U)&&K!==Y&&(K!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ze(t,r,U,K,l,Y)}return;default:if(Fo(r)){for(var ht in a)K=a[ht],a.hasOwnProperty(ht)&&K!==void 0&&!l.hasOwnProperty(ht)&&qd(t,r,ht,void 0,l,K);for(X in l)K=l[X],Y=a[X],!l.hasOwnProperty(X)||K===Y||K===void 0&&Y===void 0||qd(t,r,X,K,l,Y);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&Ze(t,r,j,null,l,K);for(te in l)K=l[te],Y=a[te],!l.hasOwnProperty(te)||K===Y||K==null&&Y==null||Ze(t,r,te,K,l,Y)}var Fd=null,Gd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function k_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Kd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $d=null;function yA(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(EA)}:U_;function EA(t){setTimeout(function(){throw t})}function Qd(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),kl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);kl(r)}function Yd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function TA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_r])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function SA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function z_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function B_(t,r,a){switch(r=Pc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,H_=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Xi=ue.d;ue.d={f:bA,r:AA,D:wA,C:RA,L:CA,m:IA,X:OA,S:DA,M:NA};function bA(){var t=Xi.f(),r=Rc();return t||r}function AA(t){var r=Ii(t);r!==null&&r.tag===5&&r.type==="form"?py(r):Xi.r(t)}var Ja=typeof document>"u"?null:document;function q_(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var f=lt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",t),nt(r),l.head.appendChild(r)))}}function wA(t){Xi.D(t),q_("dns-prefetch",t,null)}function RA(t,r){Xi.C(t,r),q_("preconnect",t,r)}function CA(t,r,a){Xi.L(t,r,a);var l=Ja;if(l&&t&&r){var f='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(t)+'"]';var d=f;switch(r){case"style":d=eo(t);break;case"script":d=to(t)}Ln.has(d)||(t=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),Ht(r,"link",t),nt(r),l.head.appendChild(r)))}}function IA(t,r){Xi.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Ln.has(d)&&(t=D({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Ht(l,"link",t),nt(l),a.head.appendChild(l)}}}function DA(t,r,a){Xi.S(t,r,a);var l=Ja;if(l&&t){var f=Er(l).hoistableStyles,d=eo(t);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Dl(d)))T.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&Xd(t,a);var I=v=l.createElement("link");nt(I),Ht(I,"link",t),I._p=new Promise(function(U,X){I.onload=U,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function OA(t,r){Xi.X(t,r);var a=Ja;if(a&&t){var l=Er(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=D({src:t,async:!0},r),(r=Ln.get(f))&&Wd(t,r),d=a.createElement("script"),nt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function NA(t,r){Xi.M(t,r);var a=Ja;if(a&&t){var l=Er(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=D({src:t,async:!0,type:"module"},r),(r=Ln.get(f))&&Wd(t,r),d=a.createElement("script"),nt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function F_(t,r,a,l){var f=(f=Tn.current)?Mc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=Er(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=Er(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||xA(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=Er(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+lt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function xA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),nt(r),t.head.appendChild(r))}function to(t){return'[src="'+lt(t)+'"]'}function Ol(t){return"script[async]"+t}function K_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return r.instance=l,nt(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),Ht(l,"style",f),Vc(l,a.precedence,t),r.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,nt(d),d;l=G_(a),(f=Ln.get(f))&&Xd(l,f),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ht(d,"link",l),r.state.loading|=4,Vc(d,a.precedence,t),r.instance=d;case"script":return d=to(a.src),(f=t.querySelector(Ol(d)))?(r.instance=f,nt(f),f):(l=a,(f=Ln.get(d))&&(l=D({},a),Wd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),Ht(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vc(l,a.precedence,t));return r.instance}function Vc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var kc=null;function $_(t,r,a){if(kc===null){var l=new Map,f=kc=new Map;f.set(a,l)}else f=kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_r]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Q_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function PA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function MA(){}function VA(t,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=eo(a.href),d=t.querySelector(Dl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Lc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,nt(d);return}d=t.ownerDocument||t,a=G_(a),(f=Ln.get(f))&&Xd(a,f),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ht(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Lc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function kA(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&Zd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function Zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,r.forEach(LA,t),Uc=null,Lc.call(t))}function LA(t,r){if(!(r.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Lc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function UA(t,r,a,l,f,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function X_(t,r,a,l,f,d,v,T,I,U,X,te){return t=new UA(t,r,a,v,T,I,U,te),r=1,d===!0&&(r|=24),d=Vn(3,null,null,r),t.current=d,d.stateNode=t,r=Of(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},cd(d),t}function W_(t){return t?(t=Pa,t):Pa}function Z_(t,r,a,l,f,d){f=W_(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,r),a!==null&&(an(a,t,r),pl(a,t,r))}function J_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Jd(t,r){J_(t,r),(t=t.alternate)&&J_(t,r)}function ev(t){if(t.tag===13){var r=Rr(t,67108864);r!==null&&an(r,t,67108864),Jd(t,67108864)}}var jc=!0;function jA(t,r,a,l){var f=A.T;A.T=null;var d=ue.p;try{ue.p=2,em(t,r,a,l)}finally{ue.p=d,A.T=f}}function zA(t,r,a,l){var f=A.T;A.T=null;var d=ue.p;try{ue.p=8,em(t,r,a,l)}finally{ue.p=d,A.T=f}}function em(t,r,a,l){if(jc){var f=tm(l);if(f===null)Hd(t,r,l,zc,a),nv(t,l);else if(HA(f,t,r,a,l))l.stopPropagation();else if(nv(t,l),r&4&&-1<BA.indexOf(t)){for(;f!==null;){var d=Ii(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-tn(v);T.entanglements[1]|=I,v&=~I}fi(d),(rt&6)===0&&(bc=on()+500,Rl(0))}}break;case 13:T=Rr(d,2),T!==null&&an(T,d,2),Rc(),Jd(d,2)}if(d=tm(l),d===null&&Hd(t,r,l,zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hd(t,r,l,null,a)}}function tm(t){return t=Ta(t),nm(t)}var zc=null;function nm(t){if(zc=null,t=Hn(t),t!==null){var r=ge(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=$e(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return zc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case St:return 2;case Nt:return 8;case Ri:case Ru:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var im=!1,Br=null,Hr=null,qr=null,Pl=new Map,Ml=new Map,Fr=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,r){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ii(r),r!==null&&ev(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function HA(t,r,a,l,f){switch(r){case"focusin":return Br=Vl(Br,t,r,a,l,f),!0;case"dragenter":return Hr=Vl(Hr,t,r,a,l,f),!0;case"mouseover":return qr=Vl(qr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,Vl(Pl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,r,a,l,f)),!0}return!1}function iv(t){var r=Hn(t.target);if(r!==null){var a=ge(r);if(a!==null){if(r=a.tag,r===13){if(r=$e(a),r!==null){t.blockedOn=r,yr(t.priority,function(){if(a.tag===13){var l=vn(),f=Rr(a,l);f!==null&&an(f,a,l),Jd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return r=Ii(a),r!==null&&ev(r),t.blockedOn=a,!1;r.shift()}return!0}function rv(t,r,a){Bc(t)&&a.delete(r)}function qA(){im=!1,Br!==null&&Bc(Br)&&(Br=null),Hr!==null&&Bc(Hr)&&(Hr=null),qr!==null&&Bc(qr)&&(qr=null),Pl.forEach(rv),Ml.forEach(rv)}function Hc(t,r){t.blockedOn===r&&(t.blockedOn=null,im||(im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qA)))}var qc=null;function sv(t){qc!==t&&(qc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Ii(a);d!==null&&(t.splice(r,3),r-=3,Kf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function kl(t){function r(I){return Hc(I,t)}Br!==null&&Hc(Br,t),Hr!==null&&Hc(Hr,t),qr!==null&&Hc(qr,t),Pl.forEach(r),Ml.forEach(r);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[bt]||null;if(typeof d=="function")v||sv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[bt]||null)T=v.formAction;else if(nm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function rm(t){this._internalRoot=t}Fc.prototype.render=rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();Z_(a,l,t,r,null,null)},Fc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&Xa(),Z_(t.current,2,null,t,null,null),Rc(),r[Ci]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Nu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Fr.length&&r!==0&&r<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&iv(t)}};var av=e.version;if(av!=="19.0.0")throw Error(s(527,av,"19.0.0"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(r),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var FA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{hr=Gc.inject(FA),Kt=Gc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=by,d=Ay,v=wy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=X_(t,1,!1,null,null,a,l,f,d,v,T,null),t[Ci]=r.current,Bd(t.nodeType===8?t.parentNode:t),new rm(r)},Ul.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=by,v=Ay,T=wy,I=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=X_(t,1,!0,r,a??null,l,f,d,v,T,I,U),r.context=W_(null),a=r.current,l=vn(),f=Pr(l),f.callback=null,Mr(a,f,l),r.current.lanes=l,mt(r,l),fi(r),t[Ci]=r.current,Bd(t),new Fc(r)},Ul.version="19.0.0",Ul}var gv;function tw(){if(gv)return om.exports;gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=ew(),om.exports}var nw=tw();const iw=oT(nw);var jl={},yv;function rw(){if(yv)return jl;yv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=h,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,x){const O=new u,H=R.length;if(H<2)return O;const P=(x==null?void 0:x.decode)||E;let G=0;do{const Z=R.indexOf("=",G);if(Z===-1)break;const W=R.indexOf(";",G),oe=W===-1?H:W;if(Z>oe){G=R.lastIndexOf(";",Z-1)+1;continue}const ae=m(R,G,Z),de=p(R,Z,ae),N=R.slice(ae,de);if(O[N]===void 0){let w=m(R,Z+1,oe),A=p(R,oe,w);const D=P(R.slice(w,A));O[N]=D}G=oe+1}while(G<H);return O}function m(R,x,O){do{const H=R.charCodeAt(x);if(H!==32&&H!==9)return x}while(++x<O);return O}function p(R,x,O){for(;x>O;){const H=R.charCodeAt(--x);if(H!==32&&H!==9)return x+1}return O}function g(R,x,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const P=H(x);if(!e.test(P))throw new TypeError(`argument val is invalid: ${x}`);let G=R+"="+P;if(!O)return G;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);G+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);G+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);G+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);G+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(G+="; HttpOnly"),O.secure&&(G+="; Secure"),O.partitioned&&(G+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return G}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return jl}rw();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _v="popstate";function sw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Im("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Zl(o)}return ow(e,n,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aw(){return Math.random().toString(36).substring(2,10)}function vv(i,e){return{usr:i.state,key:i.key,idx:e}}function Im(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||aw()}}function Zl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function To(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ow(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let P=E(),G=P==null?null:P-g;g=P,p&&p({action:m,location:H.location,delta:G})}function R(P,G){m="PUSH";let Z=Im(H.location,P,G);g=E()+1;let W=vv(Z,g),oe=H.createHref(Z);try{h.pushState(W,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(oe)}u&&p&&p({action:m,location:H.location,delta:1})}function x(P,G){m="REPLACE";let Z=Im(H.location,P,G);g=E();let W=vv(Z,g),oe=H.createHref(Z);h.replaceState(W,"",oe),u&&p&&p({action:m,location:H.location,delta:0})}function O(P){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof P=="string"?P:Zl(P);return Z=Z.replace(/ $/,"%20"),st(G,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,G)}let H={get action(){return m},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,S),p=P,()=>{o.removeEventListener(_v,S),p=null}},createHref(P){return e(o,P)},createURL:O,encodeLocation(P){let G=O(P);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:x,go(P){return h.go(P)}};return H}function lT(i,e,n="/"){return lw(i,e,n,!1)}function lw(i,e,n,s){let o=typeof e=="string"?To(e):e,u=ss(o.pathname||"/",n);if(u==null)return null;let h=uT(i);uw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Ew(u);m=_w(h[p],g,s)}return m}function uT(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:gw(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of cT(u.path))o(u,h,p)}),e}function cT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=cT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function uw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:yw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cw=/^:[\w-]+$/,hw=3,fw=2,dw=1,mw=10,pw=-2,Ev=i=>i==="*";function gw(i,e){let n=i.split("/"),s=n.length;return n.some(Ev)&&(s+=pw),e&&(s+=fw),n.filter(o=>!Ev(o)).reduce((o,u)=>o+(cw.test(u)?hw:u===""?dw:mw),s)}function yw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function _w(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:er([u,S.pathname]),pathnameBase:Aw(er([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=er([u,S.pathnameBase]))}return h}function dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=vw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},R)=>{if(E==="*"){let O=m[R]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const x=m[R];return S&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function vw(i,e=!1,n=!0){vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ew(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ss(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Tw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:n?n.startsWith("/")?n:Sw(n,e):e,search:ww(s),hash:Rw(o)}}function Sw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hT(i){let e=bw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fT(i,e,n,s=!1){let o;typeof i=="string"?o=To(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let p=Tw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=i=>i.join("/").replace(/\/\/+/g,"/"),Aw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Rw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Cw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var Iw=["GET",...dT];new Set(Iw);var So=F.createContext(null);So.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";var mT=F.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var Dw=F.createContext(new Map);Dw.displayName="Fetchers";var Ow=F.createContext(null);Ow.displayName="Await";var Si=F.createContext(null);Si.displayName="Navigation";var cu=F.createContext(null);cu.displayName="Location";var bi=F.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var op=F.createContext(null);op.displayName="RouteError";function Nw(i,{relative:e}={}){st(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Si),{hash:o,pathname:u,search:h}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:h,hash:o})}function hu(){return F.useContext(cu)!=null}function aa(){return st(hu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(cu).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gT(i){F.useContext(Si).static||F.useLayoutEffect(i)}function bo(){let{isDataRoute:i}=F.useContext(bi);return i?Gw():xw()}function xw(){st(hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(So),{basename:e,navigator:n}=F.useContext(Si),{matches:s}=F.useContext(bi),{pathname:o}=aa(),u=JSON.stringify(hT(s)),h=F.useRef(!1);return gT(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(vi(h.current,pT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=fT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}F.createContext(null);function Pw(){let{matches:i}=F.useContext(bi),e=i[i.length-1];return e?e.params:{}}function fu(i,{relative:e}={}){let{matches:n}=F.useContext(bi),{pathname:s}=aa(),o=JSON.stringify(hT(n));return F.useMemo(()=>fT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Mw(i,e){return yT(i,e)}function yT(i,e,n,s){var Z;st(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(Si),{matches:h}=F.useContext(bi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let W=S&&S.path||"";_T(g,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=aa(),x;if(e){let W=typeof e=="string"?To(e):e;st(E==="/"||((Z=W.pathname)==null?void 0:Z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),x=W}else x=R;let O=x.pathname||"/",H=O;if(E!=="/"){let W=E.replace(/^\//,"").split("/");H="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:lT(i,{pathname:H});vi(S||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),vi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=jw(P&&P.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:er([E,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:er([E,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,n,s);return e&&G?F.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function Vw(){let i=Fw(),e=Cw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,h)}var kw=F.createElement(Vw,null),Lw=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?F.createElement(bi.Provider,{value:this.props.routeContext},F.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uw({routeContext:i,match:e,children:n}){let s=F.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(bi.Provider,{value:i},n)}function jw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||R){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,R=!1,x=null,O=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||kw,h&&(m<0&&E===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,O=null):m===E&&(R=!0,O=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),P=()=>{let G;return S?G=x:R?G=O:g.route.Component?G=F.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,F.createElement(Uw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?F.createElement(Lw,{location:n.location,revalidation:n.revalidation,component:x,error:S,children:P(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):P()},null)}function lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(i){let e=F.useContext(So);return st(e,lp(i)),e}function Bw(i){let e=F.useContext(Vh);return st(e,lp(i)),e}function Hw(i){let e=F.useContext(bi);return st(e,lp(i)),e}function up(i){let e=Hw(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function qw(){return up("useRouteId")}function Fw(){var s;let i=F.useContext(op),e=Bw("useRouteError"),n=up("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Gw(){let{router:i}=zw("useNavigate"),e=up("useNavigate"),n=F.useRef(!1);return gT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{vi(n.current,pT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Tv={};function _T(i,e,n){!e&&!Tv[i]&&(Tv[i]=!0,vi(!1,n))}F.memo(Kw);function Kw({routes:i,future:e,state:n}){return yT(i,void 0,n,e)}function Qr(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $w({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:R="default"}=n,x=F.useMemo(()=>{let O=ss(p,h);return O==null?null:{location:{pathname:O,search:g,hash:E,state:S,key:R},navigationType:s}},[h,p,g,E,S,R,s]);return vi(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(Si.Provider,{value:m},F.createElement(cu.Provider,{children:e,value:x}))}function Qw({children:i,location:e}){return Mw(Dm(i),e)}function Dm(i,e=[]){let n=[];return F.Children.forEach(i,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Dm(s.props.children,u));return}st(s.type===Qr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Dm(s.props.children,u)),n.push(h)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function kh(i){return i!=null&&typeof i.tagName=="string"}function Yw(i){return kh(i)&&i.tagName.toLowerCase()==="button"}function Xw(i){return kh(i)&&i.tagName.toLowerCase()==="form"}function Ww(i){return kh(i)&&i.tagName.toLowerCase()==="input"}function Zw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Jw(i,e){return i.button===0&&(!e||e==="_self")&&!Zw(i)}var Kc=null;function eR(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(i){return i!=null&&!tR.has(i)?(vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):i}function nR(i,e){let n,s,o,u,h;if(Xw(i)){let m=i.getAttribute("action");s=m?ss(m,e):null,n=i.getAttribute("method")||Jc,o=fm(i.getAttribute("enctype"))||eh,u=new FormData(i)}else if(Yw(i)||Ww(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ss(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=fm(i.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||eh,u=new FormData(m,i),!eR()){let{name:g,type:E,value:S}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,S)}}else{if(kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function cp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function iR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function sR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await iR(u,n);return h.links?h.links():[]}return[]}));return uR(s.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function aR(i,e){return oR(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function oR(i){return[...new Set(i)]}function lR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function uR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(lR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function cR(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hR(){let i=F.useContext(So);return cp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fR(){let i=F.useContext(Vh);return cp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var hp=F.createContext(void 0);hp.displayName="FrameworkContext";function vT(){let i=F.useContext(hp);return cp(i,"You must render this element inside a <HydratedRouter> element"),i}function dR(i,e){let n=F.useContext(hp),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,R=F.useRef(null);F.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=G=>{G.forEach(Z=>{h(Z.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[i]),F.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let x=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:zl(m,x),onBlur:zl(p,O),onMouseEnter:zl(g,x),onMouseLeave:zl(E,O),onTouchStart:zl(S,x)}]:[!1,R,{}]}function zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function mR({page:i,...e}){let{router:n}=hR(),s=F.useMemo(()=>lT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?F.createElement(gR,{page:i,matches:s,...e}):null}function pR(i){let{manifest:e,routeModules:n}=vT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return sR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function gR({page:i,matches:e,...n}){let s=aa(),{manifest:o,routeModules:u}=vT(),{loaderData:h,matches:m}=fR(),p=F.useMemo(()=>Sv(i,e,m,o,s,"data"),[i,e,m,o,s]),g=F.useMemo(()=>Sv(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,O=!1;if(e.forEach(P=>{var Z;let G=o.routes[P.route.id];!G||!G.hasLoader||(!p.some(W=>W.route.id===P.route.id)&&P.route.id in h&&((Z=u[P.route.id])!=null&&Z.shouldRevalidate)||G.hasClientLoader?O=!0:x.add(P.route.id))}),x.size===0)return[];let H=cR(i);return O&&x.size>0&&H.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[H.pathname+H.search]},[h,s,o,p,e,i,u]),S=F.useMemo(()=>aR(g,o),[g,o]),R=pR(g);return F.createElement(F.Fragment,null,E.map(x=>F.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),S.map(x=>F.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),R.map(({key:x,link:O})=>F.createElement("link",{key:x,...O})))}function yR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ET&&(window.__reactRouterVersion="7.1.5")}catch{}function _R({basename:i,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=sw({window:n,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement($w,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...R},x){let{basename:O}=F.useContext(Si),H=typeof g=="string"&&TT.test(g),P,G=!1;if(typeof g=="string"&&H&&(P=g,ET))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),L=ss(D.pathname,O);D.origin===A.origin&&L!=null?g=L+D.search+D.hash:G=!0}catch{vi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=Nw(g,{relative:o}),[W,oe,ae]=dR(s,R),de=SR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function N(A){e&&e(A),A.defaultPrevented||de(A)}let w=F.createElement("a",{...R,...ae,href:P||Z,onClick:G||u?e:N,ref:yR(x,oe),target:p,"data-discover":!H&&n==="render"?"true":void 0});return W&&!H?F.createElement(F.Fragment,null,w,F.createElement(mR,{page:Z})):w});$n.displayName="Link";var vR=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let S=fu(h,{relative:g.relative}),R=aa(),x=F.useContext(Vh),{navigator:O,basename:H}=F.useContext(Si),P=x!=null&&CR(S)&&m===!0,G=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,Z=R.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&H&&(W=ss(W,H)||W);const oe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ae=Z===G||!o&&Z.startsWith(G)&&Z.charAt(oe)==="/",de=W!=null&&(W===G||!o&&W.startsWith(G)&&W.charAt(G.length)==="/"),N={isActive:ae,isPending:de,isTransitioning:P},w=ae?e:void 0,A;typeof s=="function"?A=s(N):A=[s,ae?"active":null,de?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return F.createElement($n,{...g,"aria-current":w,className:A,ref:E,style:D,to:h,viewTransition:m},typeof p=="function"?p(N):p)});vR.displayName="NavLink";var ER=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...R},x)=>{let O=wR(),H=RR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&TT.test(m),Z=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let oe=W.nativeEvent.submitter,ae=(oe==null?void 0:oe.getAttribute("formmethod"))||h;O(oe||W.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return F.createElement("form",{ref:x,method:P,action:H,onSubmit:s?p:Z,...R,"data-discover":!G&&i==="render"?"true":void 0})});ER.displayName="Form";function TR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(i){let e=F.useContext(So);return st(e,TR(i)),e}function SR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=bo(),p=aa(),g=fu(i,{relative:u});return F.useCallback(E=>{if(Jw(E,e)){E.preventDefault();let S=n!==void 0?n:Zl(p)===Zl(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var bR=0,AR=()=>`__${String(++bR)}__`;function wR(){let{router:i}=ST("useSubmit"),{basename:e}=F.useContext(Si),n=qw();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=nR(s,e);if(o.navigate===!1){let E=o.fetcherKey||AR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function RR(i,{relative:e}={}){let{basename:n}=F.useContext(Si),s=F.useContext(bi);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},h=aa();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Zl(u)}function CR(i,e={}){let n=F.useContext(mT);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ST("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ss(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ss(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,h)!=null||dh(o.pathname,u)!=null}new TextEncoder;function bT(i,e){return function(){return i.apply(e,arguments)}}const{toString:IR}=Object.prototype,{getPrototypeOf:fp}=Object,Lh=(i=>e=>{const n=IR.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=i=>(i=i.toLowerCase(),e=>Lh(e)===i),Uh=i=>e=>typeof e===i,{isArray:Ao}=Array,Jl=Uh("undefined");function DR(i){return i!==null&&!Jl(i)&&i.constructor!==null&&!Jl(i.constructor)&&En(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const AT=Xn("ArrayBuffer");function OR(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&AT(i.buffer),e}const NR=Uh("string"),En=Uh("function"),wT=Uh("number"),jh=i=>i!==null&&typeof i=="object",xR=i=>i===!0||i===!1,th=i=>{if(Lh(i)!=="object")return!1;const e=fp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},PR=Xn("Date"),MR=Xn("File"),VR=Xn("Blob"),kR=Xn("FileList"),LR=i=>jh(i)&&En(i.pipe),UR=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||En(i.append)&&((e=Lh(i))==="formdata"||e==="object"&&En(i.toString)&&i.toString()==="[object FormData]"))},jR=Xn("URLSearchParams"),[zR,BR,HR,qR]=["ReadableStream","Request","Response","Headers"].map(Xn),FR=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function du(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Ao(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=n?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function RT(i,e){e=e.toLowerCase();const n=Object.keys(i);let s=n.length,o;for(;s-- >0;)if(o=n[s],e===o.toLowerCase())return o;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CT=i=>!Jl(i)&&i!==$s;function Om(){const{caseless:i}=CT(this)&&this||{},e={},n=(s,o)=>{const u=i&&RT(e,o)||o;th(e[u])&&th(s)?e[u]=Om(e[u],s):th(s)?e[u]=Om({},s):Ao(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&du(arguments[s],n);return e}const GR=(i,e,n,{allOwnKeys:s}={})=>(du(e,(o,u)=>{n&&En(o)?i[u]=bT(o,n):i[u]=o},{allOwnKeys:s}),i),KR=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),$R=(i,e,n,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},QR=(i,e,n,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=n!==!1&&fp(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},YR=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const s=i.indexOf(e,n);return s!==-1&&s===n},XR=i=>{if(!i)return null;if(Ao(i))return i;let e=i.length;if(!wT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},WR=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&fp(Uint8Array)),ZR=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},JR=(i,e)=>{let n;const s=[];for(;(n=i.exec(e))!==null;)s.push(n);return s},eC=Xn("HTMLFormElement"),tC=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),bv=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),nC=Xn("RegExp"),IT=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),s={};du(n,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},iC=i=>{IT(i,(e,n)=>{if(En(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=i[n];if(En(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rC=(i,e)=>{const n={},s=o=>{o.forEach(u=>{n[u]=!0})};return Ao(i)?s(i):s(String(i).split(e)),n},sC=()=>{},aC=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e,dm="abcdefghijklmnopqrstuvwxyz",Av="0123456789",DT={DIGIT:Av,ALPHA:dm,ALPHA_DIGIT:dm+dm.toUpperCase()+Av},oC=(i=16,e=DT.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;i--;)n+=e[Math.random()*s|0];return n};function lC(i){return!!(i&&En(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const uC=i=>{const e=new Array(10),n=(s,o)=>{if(jh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Ao(s)?[]:{};return du(s,(h,m)=>{const p=n(h,o+1);!Jl(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return n(i,0)},cC=Xn("AsyncFunction"),hC=i=>i&&(jh(i)||En(i))&&En(i.then)&&En(i.catch),OT=((i,e)=>i?setImmediate:e?((n,s)=>($s.addEventListener("message",({source:o,data:u})=>{o===$s&&u===n&&s.length&&s.shift()()},!1),o=>{s.push(o),$s.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",En($s.postMessage)),fC=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||OT,Q={isArray:Ao,isArrayBuffer:AT,isBuffer:DR,isFormData:UR,isArrayBufferView:OR,isString:NR,isNumber:wT,isBoolean:xR,isObject:jh,isPlainObject:th,isReadableStream:zR,isRequest:BR,isResponse:HR,isHeaders:qR,isUndefined:Jl,isDate:PR,isFile:MR,isBlob:VR,isRegExp:nC,isFunction:En,isStream:LR,isURLSearchParams:jR,isTypedArray:WR,isFileList:kR,forEach:du,merge:Om,extend:GR,trim:FR,stripBOM:KR,inherits:$R,toFlatObject:QR,kindOf:Lh,kindOfTest:Xn,endsWith:YR,toArray:XR,forEachEntry:ZR,matchAll:JR,isHTMLForm:eC,hasOwnProperty:bv,hasOwnProp:bv,reduceDescriptors:IT,freezeMethods:iC,toObjectSet:rC,toCamelCase:tC,noop:sC,toFiniteNumber:aC,findKey:RT,global:$s,isContextDefined:CT,ALPHABET:DT,generateString:oC,isSpecCompliantForm:lC,toJSONObject:uC,isAsyncFn:cC,isThenable:hC,setImmediate:OT,asap:fC};function Ce(i,e,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const NT=Ce.prototype,xT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{xT[i]={value:i}});Object.defineProperties(Ce,xT);Object.defineProperty(NT,"isAxiosError",{value:!0});Ce.from=(i,e,n,s,o,u)=>{const h=Object.create(NT);return Q.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,i.message,e,n,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const dC=null;function Nm(i){return Q.isPlainObject(i)||Q.isArray(i)}function PT(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function wv(i,e,n){return i?i.concat(e).map(function(o,u){return o=PT(o),!n&&u?"["+o+"]":o}).join(n?".":""):e}function mC(i){return Q.isArray(i)&&!i.some(Nm)}const pC=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function zh(i,e,n){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,P){return!Q.isUndefined(P[H])});const s=n.metaTokens,o=n.visitor||E,u=n.dots,h=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(Q.isDate(O))return O.toISOString();if(!p&&Q.isBlob(O))throw new Ce("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(O)||Q.isTypedArray(O)?p&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function E(O,H,P){let G=O;if(O&&!P&&typeof O=="object"){if(Q.endsWith(H,"{}"))H=s?H:H.slice(0,-2),O=JSON.stringify(O);else if(Q.isArray(O)&&mC(O)||(Q.isFileList(O)||Q.endsWith(H,"[]"))&&(G=Q.toArray(O)))return H=PT(H),G.forEach(function(W,oe){!(Q.isUndefined(W)||W===null)&&e.append(h===!0?wv([H],oe,u):h===null?H:H+"[]",g(W))}),!1}return Nm(O)?!0:(e.append(wv(P,H,u),g(O)),!1)}const S=[],R=Object.assign(pC,{defaultVisitor:E,convertValue:g,isVisitable:Nm});function x(O,H){if(!Q.isUndefined(O)){if(S.indexOf(O)!==-1)throw Error("Circular reference detected in "+H.join("."));S.push(O),Q.forEach(O,function(G,Z){(!(Q.isUndefined(G)||G===null)&&o.call(e,G,Q.isString(Z)?Z.trim():Z,H,R))===!0&&x(G,H?H.concat(Z):[Z])}),S.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return x(i),e}function Rv(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function dp(i,e){this._pairs=[],i&&zh(i,this,e)}const MT=dp.prototype;MT.append=function(e,n){this._pairs.push([e,n])};MT.toString=function(e){const n=e?function(s){return e.call(this,s,Rv)}:Rv;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function gC(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VT(i,e,n){if(!e)return i;const s=n&&n.encode||gC;Q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(e,n):u=Q.isURLSearchParams(e)?e.toString():new dp(e,n).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class Cv{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const kT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yC=typeof URLSearchParams<"u"?URLSearchParams:dp,_C=typeof FormData<"u"?FormData:null,vC=typeof Blob<"u"?Blob:null,EC={isBrowser:!0,classes:{URLSearchParams:yC,FormData:_C,Blob:vC},protocols:["http","https","file","blob","url","data"]},mp=typeof window<"u"&&typeof document<"u",xm=typeof navigator=="object"&&navigator||void 0,TC=mp&&(!xm||["ReactNative","NativeScript","NS"].indexOf(xm.product)<0),SC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bC=mp&&window.location.href||"http://localhost",AC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mp,hasStandardBrowserEnv:TC,hasStandardBrowserWebWorkerEnv:SC,navigator:xm,origin:bC},Symbol.toStringTag,{value:"Module"})),Zt={...AC,...EC};function wC(i,e){return zh(i,new Zt.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,u){return Zt.isNode&&Q.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function RC(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CC(i){const e={},n=Object.keys(i);let s;const o=n.length;let u;for(s=0;s<o;s++)u=n[s],e[u]=i[u];return e}function LT(i){function e(n,s,o,u){let h=n[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=n.length;return h=!h&&Q.isArray(o)?o.length:h,p?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(n,s,o[h],u)&&Q.isArray(o[h])&&(o[h]=CC(o[h])),!m)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const n={};return Q.forEachEntry(i,(s,o)=>{e(RC(s),o,n,0)}),n}return null}function IC(i,e,n){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(i)}const mu={transitional:kT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,u=Q.isObject(e);if(u&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(LT(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wC(e,this.formSerializer).toString();if((m=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return zh(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),IC(e)):e}],transformResponse:[function(e){const n=this.transitional||mu.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{mu.headers[i]={}});const DC=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OC=i=>{const e={};let n,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!n||e[n]&&DC[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Iv=Symbol("internals");function Bl(i){return i&&String(i).trim().toLowerCase()}function nh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(nh):String(i)}function NC(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(i);)e[s[1]]=s[2];return e}const xC=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function mm(i,e,n,s,o){if(Q.isFunction(s))return s.call(this,e,n);if(o&&(e=n),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function PC(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function MC(i,e){const n=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+n,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,n,s){const o=this;function u(m,p,g){const E=Bl(p);if(!E)throw new Error("header name must be a non-empty string");const S=Q.findKey(o,E);(!S||o[S]===void 0||g===!0||g===void 0&&o[S]!==!1)&&(o[S||p]=nh(m))}const h=(m,p)=>Q.forEach(m,(g,E)=>u(g,E,p));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,n);else if(Q.isString(e)&&(e=e.trim())&&!xC(e))h(OC(e),n);else if(Q.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(n,e,s);return this}get(e,n){if(e=Bl(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!n)return o;if(n===!0)return NC(o);if(Q.isFunction(n))return n.call(this,o,s);if(Q.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Bl(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||mm(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let o=!1;function u(h){if(h=Bl(h),h){const m=Q.findKey(s,h);m&&(!n||mm(s,s[m],m,n))&&(delete s[m],o=!0)}}return Q.isArray(e)?e.forEach(u):u(e),o}clear(e){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const u=n[s];(!e||mm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const n=this,s={};return Q.forEach(this,(o,u)=>{const h=Q.findKey(s,u);if(h){n[h]=nh(o),delete n[u];return}const m=e?PC(u):String(u).trim();m!==u&&delete n[u],n[m]=nh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=e&&Q.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[Iv]=this[Iv]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Bl(h);s[m]||(MC(o,h),s[m]=!0)}return Q.isArray(e)?e.forEach(u):u(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(hn.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[n]=s}}});Q.freezeMethods(hn);function pm(i,e){const n=this||mu,s=e||n,o=hn.from(s.headers);let u=s.data;return Q.forEach(i,function(m){u=m.call(n,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function UT(i){return!!(i&&i.__CANCEL__)}function wo(i,e,n){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,n),this.name="CanceledError"}Q.inherits(wo,Ce,{__CANCEL__:!0});function jT(i,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?i(n):e(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VC(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function kC(i,e){i=i||10;const n=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),n[o]=p,s[o]=g;let S=u,R=0;for(;S!==o;)R+=n[S++],S=S%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const x=E&&g-E;return x?Math.round(R*1e3/x):void 0}}function LC(i,e){let n=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{n=E,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const E=Date.now(),S=E-n;S>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-S)))},()=>o&&h(o)]}const mh=(i,e,n=3)=>{let s=0;const o=kC(50,250);return LC(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(S)},n)},Dv=(i,e)=>{const n=i!=null;return[s=>e[0]({lengthComputable:n,total:i,loaded:s}),e[1]]},Ov=i=>(...e)=>Q.asap(()=>i(...e)),UC=Zt.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,Zt.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,jC=Zt.hasStandardBrowserEnv?{write(i,e,n,s,o,u){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zC(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function BC(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function zT(i,e){return i&&!zC(e)?BC(i,e):e}const Nv=i=>i instanceof hn?{...i}:i;function Zs(i,e){e=e||{};const n={};function s(g,E,S,R){return Q.isPlainObject(g)&&Q.isPlainObject(E)?Q.merge.call({caseless:R},g,E):Q.isPlainObject(E)?Q.merge({},E):Q.isArray(E)?E.slice():E}function o(g,E,S,R){if(Q.isUndefined(E)){if(!Q.isUndefined(g))return s(void 0,g,S,R)}else return s(g,E,S,R)}function u(g,E){if(!Q.isUndefined(E))return s(void 0,E)}function h(g,E){if(Q.isUndefined(E)){if(!Q.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,S){if(S in e)return s(g,E);if(S in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,S)=>o(Nv(g),Nv(E),S,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(E){const S=p[E]||o,R=S(i[E],e[E],E);Q.isUndefined(R)&&S!==m||(n[E]=R)}),n}const BT=i=>{const e=Zs({},i);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=hn.from(h),e.url=VT(zT(e.baseURL,e.url),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(Q.isFormData(n)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&UC(e.url))){const g=o&&u&&jC.read(u);g&&h.set(o,g)}return e},HC=typeof XMLHttpRequest<"u",qC=HC&&function(i){return new Promise(function(n,s){const o=BT(i);let u=o.data;const h=hn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,S,R,x,O;function H(){x&&x(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function G(){if(!P)return;const W=hn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ae={data:!m||m==="text"||m==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:W,config:i,request:P};jT(function(N){n(N),H()},function(N){s(N),H()},ae),P=null}"onloadend"in P?P.onloadend=G:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(G)},P.onabort=function(){P&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,P)),P=null)},P.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,P)),P=null},P.ontimeout=function(){let oe=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ae=o.transitional||kT;o.timeoutErrorMessage&&(oe=o.timeoutErrorMessage),s(new Ce(oe,ae.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,P)),P=null},u===void 0&&h.setContentType(null),"setRequestHeader"in P&&Q.forEach(h.toJSON(),function(oe,ae){P.setRequestHeader(ae,oe)}),Q.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),m&&m!=="json"&&(P.responseType=o.responseType),g&&([R,O]=mh(g,!0),P.addEventListener("progress",R)),p&&P.upload&&([S,x]=mh(p),P.upload.addEventListener("progress",S),P.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(E=W=>{P&&(s(!W||W.type?new wo(null,i,P):W),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const Z=VC(o.url);if(Z&&Zt.protocols.indexOf(Z)===-1){s(new Ce("Unsupported protocol "+Z+":",Ce.ERR_BAD_REQUEST,i));return}P.send(u||null)})},FC=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Ce?E:new wo(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Q.asap(m),p}},GC=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let s=0,o;for(;s<n;)o=s+e,yield i.slice(s,o),s=o},KC=async function*(i,e){for await(const n of $C(i))yield*GC(n,e)},$C=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},xv=(i,e,n,s)=>{const o=KC(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let S=E.byteLength;if(n){let R=u+=S;n(R)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},Bh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HT=Bh&&typeof ReadableStream=="function",QC=Bh&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),qT=(i,...e)=>{try{return!!i(...e)}catch{return!1}},YC=HT&&qT(()=>{let i=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Pv=64*1024,Pm=HT&&qT(()=>Q.isReadableStream(new Response("").body)),ph={stream:Pm&&(i=>i.body)};Bh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ph[e]&&(ph[e]=Q.isFunction(i[e])?n=>n[e]():(n,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const XC=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(Zt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await QC(i)).byteLength},WC=async(i,e)=>{const n=Q.toFiniteNumber(i.getContentLength());return n??XC(e)},ZC=Bh&&(async i=>{let{url:e,method:n,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:S="same-origin",fetchOptions:R}=BT(i);g=g?(g+"").toLowerCase():"text";let x=FC([o,u&&u.toAbortSignal()],h),O;const H=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let P;try{if(p&&YC&&n!=="get"&&n!=="head"&&(P=await WC(E,s))!==0){let ae=new Request(e,{method:"POST",body:s,duplex:"half"}),de;if(Q.isFormData(s)&&(de=ae.headers.get("content-type"))&&E.setContentType(de),ae.body){const[N,w]=Dv(P,mh(Ov(p)));s=xv(ae.body,Pv,N,w)}}Q.isString(S)||(S=S?"include":"omit");const G="credentials"in Request.prototype;O=new Request(e,{...R,signal:x,method:n.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:G?S:void 0});let Z=await fetch(O);const W=Pm&&(g==="stream"||g==="response");if(Pm&&(m||W&&H)){const ae={};["status","statusText","headers"].forEach(A=>{ae[A]=Z[A]});const de=Q.toFiniteNumber(Z.headers.get("content-length")),[N,w]=m&&Dv(de,mh(Ov(m),!0))||[];Z=new Response(xv(Z.body,Pv,N,()=>{w&&w(),H&&H()}),ae)}g=g||"text";let oe=await ph[Q.findKey(ph,g)||"text"](Z,i);return!W&&H&&H(),await new Promise((ae,de)=>{jT(ae,de,{data:oe,headers:hn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:i,request:O})})}catch(G){throw H&&H(),G&&G.name==="TypeError"&&/fetch/i.test(G.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,O),{cause:G.cause||G}):Ce.from(G,G&&G.code,i,O)}}),Mm={http:dC,xhr:qC,fetch:ZC};Q.forEach(Mm,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Mv=i=>`- ${i}`,JC=i=>Q.isFunction(i)||i===null||i===!1,FT={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let n,s;const o={};for(let u=0;u<e;u++){n=i[u];let h;if(s=n,!JC(n)&&(s=Mm[(h=String(n)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(Mv).join(`
`):" "+Mv(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Mm};function gm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new wo(null,i)}function Vv(i){return gm(i),i.headers=hn.from(i.headers),i.data=pm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),FT.getAdapter(i.adapter||mu.adapter)(i).then(function(s){return gm(i),s.data=pm.call(i,i.transformResponse,s),s.headers=hn.from(s.headers),s},function(s){return UT(s)||(gm(i),s&&s.response&&(s.response.data=pm.call(i,i.transformResponse,s.response),s.response.headers=hn.from(s.response.headers))),Promise.reject(s)})}const GT="1.7.9",Hh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Hh[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const kv={};Hh.transitional=function(e,n,s){function o(u,h){return"[Axios v"+GT+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!kv[h]&&(kv[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,h,m):!0}};Hh.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function e1(i,e,n){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Ce("option "+u+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const ih={assertOptions:e1,validators:Hh},di=ih.validators;let Ys=class{constructor(e){this.defaults=e,this.interceptors={request:new Cv,response:new Cv}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zs(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:u}=n;s!==void 0&&ih.assertOptions(s,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),o!=null&&(Q.isFunction(o)?n.paramsSerializer={serialize:o}:ih.assertOptions(o,{encode:di.function,serialize:di.function},!0)),ih.assertOptions(n,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&Q.merge(u.common,u[n.method]);u&&Q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),n.headers=hn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(n)===!1||(p=p&&H.synchronous,m.unshift(H.fulfilled,H.rejected))});const g=[];this.interceptors.response.forEach(function(H){g.push(H.fulfilled,H.rejected)});let E,S=0,R;if(!p){const O=[Vv.bind(this),void 0];for(O.unshift.apply(O,m),O.push.apply(O,g),R=O.length,E=Promise.resolve(n);S<R;)E=E.then(O[S++],O[S++]);return E}R=m.length;let x=n;for(S=0;S<R;){const O=m[S++],H=m[S++];try{x=O(x)}catch(P){H.call(this,P);break}}try{E=Vv.call(this,x)}catch(O){return Promise.reject(O)}for(S=0,R=g.length;S<R;)E=E.then(g[S++],g[S++]);return E}getUri(e){e=Zs(this.defaults,e);const n=zT(e.baseURL,e.url);return VT(n,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Ys.prototype[e]=function(n,s){return this.request(Zs(s||{},{method:e,url:n,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function n(s){return function(u,h,m){return this.request(Zs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ys.prototype[e]=n(),Ys.prototype[e+"Form"]=n(!0)});let t1=class KT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new wo(u,h,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new KT(function(o){e=o}),cancel:e}}};function n1(i){return function(n){return i.apply(null,n)}}function i1(i){return Q.isObject(i)&&i.isAxiosError===!0}const Vm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vm).forEach(([i,e])=>{Vm[e]=i});function $T(i){const e=new Ys(i),n=bT(Ys.prototype.request,e);return Q.extend(n,Ys.prototype,e,{allOwnKeys:!0}),Q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return $T(Zs(i,o))},n}const dt=$T(mu);dt.Axios=Ys;dt.CanceledError=wo;dt.CancelToken=t1;dt.isCancel=UT;dt.VERSION=GT;dt.toFormData=zh;dt.AxiosError=Ce;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=n1;dt.isAxiosError=i1;dt.mergeConfig=Zs;dt.AxiosHeaders=hn;dt.formToJSON=i=>LT(Q.isHTMLForm(i)?new FormData(i):i);dt.getAdapter=FT.getAdapter;dt.HttpStatusCode=Vm;dt.default=dt;const{Axios:zP,AxiosError:BP,CanceledError:HP,isCancel:qP,CancelToken:FP,VERSION:GP,all:KP,Cancel:$P,isAxiosError:QP,spread:YP,toFormData:XP,AxiosHeaders:WP,HttpStatusCode:ZP,formToJSON:JP,getAdapter:eM,mergeConfig:tM}=dt,Gs=dt.create({baseURL:"http://localhost:81/api/v1",headers:{"Content-type":"application/json"}});class r1{getAll(){return Gs.get("/agenda")}get(e){return Gs.get(`/agenda/${e}`)}create(e){return Gs.post("/agenda",e)}update(e,n){return Gs.put(`/agenda/${e}`,n)}delete(e){return Gs.delete(`/agenda/${e}`)}deleteAll(){return Gs.delete("/agenda")}findByNombre(e){return Gs.get(`/agenda/nombre/${e}`)}}const Js=new r1,Kr=dt.create({baseURL:"http://localhost:82/api/v1",headers:{"Content-type":"application/json"}});class s1{getAll(){return Kr.get("/tutorials")}get(e){return Kr.get(`/tutorials/${e}`)}getPublished(){return Kr.get("/tutorials/published")}create(e){return Kr.post("/tutorials",e)}update(e,n){return Kr.put(`/tutorials/${e}`,n)}delete(e){return Kr.delete(`/tutorials/${e}`)}deleteAll(){return Kr.delete("/tutorials")}findByTitle(e){return Kr.get(`/tutorials/title/${e}`)}}const Xs=new s1,QT=F.createContext(),qh=()=>F.useContext(QT),a1=({children:i})=>{const[e,n]=F.useState([]),[s,o]=F.useState(null),[u,h]=F.useState(-1);F.useEffect(()=>{m()},[]);const m=async()=>{try{const g=await Js.getAll(),S=(await Xs.getAll()).data.reduce((x,O)=>(x[O.id]=O.title,x),{}),R=g.data.map(x=>({...x,tutoriales:x.tutoriales.map(O=>S[O]||"Tutorial Desconocido")}));n(R)}catch(g){console.error("Error retrieving persons or tutorials:",g)}},p=async g=>{if(g)try{await Js.delete(g),n(e.filter(E=>E.id!==g)),(s==null?void 0:s.id)===g&&(o(null),h(-1))}catch(E){console.error("Error deleting person:",E)}};return V.jsx(QT.Provider,{value:{persons:e,setPersons:n,currentPerson:s,setCurrentPerson:o,currentIndex:u,setCurrentIndex:h,deletePerson:p,retrievePersons:m},children:i})},o1=()=>{const i=bo(),{retrievePersons:e}=qh(),[n,s]=F.useState(""),[o,u]=F.useState(""),[h,m]=F.useState(""),[p,g]=F.useState(0),[E,S]=F.useState(""),[R,x]=F.useState(""),[O,H]=F.useState([]),[P,G]=F.useState([]),[Z,W]=F.useState(!1),[oe,ae]=F.useState("");F.useEffect(()=>{(async()=>{try{const w=await Xs.getPublished();G(Array.isArray(w.data)?w.data:[])}catch(w){console.error("Error obteniendo tutoriales:",w),G([])}})()},[]);const de=async()=>{if(ae(""),!n||!o||!h||!p||!E||!R){ae("Todos los campos son obligatorios.");return}const N={nombre:n,apellidos:o,calle:h,codigoPostal:parseInt(p,10),ciudad:E,fechaNacimiento:R,tutoriales:O};try{await Js.create(N),await e(),i("/agenda")}catch(w){console.error("Error añadiendo persona:",w),ae("No se pudo guardar la persona.")}};return V.jsx("div",{className:"add-person-container",children:V.jsxs("div",{className:"add-person-form",children:[V.jsx("h2",{children:"Añadir Persona"}),oe&&V.jsx("p",{className:"error-message",children:oe}),V.jsx("label",{htmlFor:"nombre",children:"Nombre"}),V.jsx("input",{type:"text",id:"nombre",required:!0,onChange:N=>s(N.target.value)}),V.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),V.jsx("input",{type:"text",id:"apellidos",required:!0,onChange:N=>u(N.target.value)}),V.jsx("label",{htmlFor:"calle",children:"Calle"}),V.jsx("input",{type:"text",id:"calle",required:!0,onChange:N=>m(N.target.value)}),V.jsx("label",{htmlFor:"codigoPostal",children:"Código Postal"}),V.jsx("input",{type:"number",id:"codigoPostal",min:"1",required:!0,onChange:N=>{const w=parseInt(N.target.value,10);g(w<1||isNaN(w)?1:w)}}),V.jsx("label",{htmlFor:"ciudad",children:"Ciudad"}),V.jsx("input",{type:"text",id:"ciudad",required:!0,onChange:N=>S(N.target.value)}),V.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento"}),V.jsx("input",{type:"date",id:"fechaNacimiento",required:!0,onChange:N=>x(N.target.value)}),V.jsx("label",{htmlFor:"tutoriales",children:"Tutoriales"}),V.jsx("select",{id:"tutoriales",multiple:!0,value:O,onChange:N=>H(Array.from(N.target.selectedOptions,w=>w.value)),children:Array.isArray(P)&&P.length>0?P.map(N=>V.jsx("option",{value:String(N.id),children:N.title},N.id)):V.jsx("option",{disabled:!0,children:"No hay tutoriales disponibles"})}),V.jsx("div",{className:"button-group",children:V.jsx("button",{type:"submit",className:"btn-success",onClick:de,disabled:!n||!o||!h||!p||!E||!R||p<1,children:"Guardar"})})]})})},l1=()=>{const{id:i}=Pw(),e=bo(),{retrievePersons:n}=qh(),[s,o]=F.useState(""),[u,h]=F.useState(""),[m,p]=F.useState(""),[g,E]=F.useState(0),[S,R]=F.useState(""),[x,O]=F.useState(""),[H,P]=F.useState([]),[G,Z]=F.useState([]),[W,oe]=F.useState("");F.useEffect(()=>{ae(i),de()},[i]);const ae=async w=>{try{const A=await Js.get(w);o(A.data.nombre),h(A.data.apellidos),p(A.data.calle),E(A.data.codigoPostal),R(A.data.ciudad),O(A.data.fechaNacimiento),P(A.data.tutoriales||[])}catch(A){console.error("Error obteniendo persona:",A),oe("No se pudo cargar la persona.")}},de=async()=>{try{const w=await Xs.getPublished();Z(Array.isArray(w.data)?w.data:[])}catch(w){console.error("Error obteniendo tutoriales:",w),oe("No se pudo cargar la lista de tutoriales.")}},N=async()=>{oe("");const w={id:i,nombre:s,apellidos:u,calle:m,codigoPostal:parseInt(g,10),ciudad:S,fechaNacimiento:x,tutoriales:H};try{await Js.update(i,w),await n(),e("/agenda")}catch(A){console.error("Error updating person:",A),oe("No se pudo actualizar la persona.")}};return V.jsx("div",{className:"add-person-container",children:V.jsxs("div",{className:"add-person-form",children:[V.jsx("h2",{children:"Editar Persona"}),W&&V.jsx("p",{className:"error-message",children:W}),V.jsx("label",{htmlFor:"nombre",children:"Nombre"}),V.jsx("input",{type:"text",id:"nombre",name:"nombre",value:s,required:!0,onChange:w=>o(w.target.value)}),V.jsx("label",{htmlFor:"apellidos",children:"Apellidos"}),V.jsx("input",{type:"text",id:"apellidos",name:"apellidos",value:u,required:!0,onChange:w=>h(w.target.value)}),V.jsx("label",{htmlFor:"calle",children:"Calle"}),V.jsx("input",{type:"text",id:"calle",name:"calle",value:m,required:!0,onChange:w=>p(w.target.value)}),V.jsx("label",{htmlFor:"codigoPostal",children:"Codigo Postal"}),V.jsx("input",{type:"number",id:"codigoPostal",name:"codigoPostal",value:g,min:"1",required:!0,onChange:w=>{const A=parseInt(w.target.value,10);E(A<1||isNaN(A)?1:A)}}),V.jsx("label",{htmlFor:"ciudad",children:"Ciudad"}),V.jsx("input",{type:"text",id:"ciudad",name:"ciudad",value:S,required:!0,onChange:w=>R(w.target.value)}),V.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento"}),V.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:x,required:!0,onChange:w=>O(w.target.value)}),V.jsx("label",{htmlFor:"tutoriales",children:"Tutoriales"}),V.jsx("select",{id:"tutoriales",multiple:!0,value:H,onChange:w=>P(Array.from(w.target.selectedOptions,A=>A.value)),children:Array.isArray(G)&&G.length>0?G.map(w=>V.jsx("option",{value:w.id,children:w.title},w.id)):V.jsx("option",{disabled:!0,children:"No hay tutoriales disponibles"})}),V.jsx("div",{className:"button-group",children:V.jsx("button",{type:"submit",className:"btn btn-success",onClick:N,disabled:!s||!u||!m||!g||!S||!x||g<1,children:"Actualizar"})})]})})},u1=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},c1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,x=g&63;p||(x=64,h||(R=64)),s.push(n[E],n[S],n[R],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(YT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):c1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new h1;const R=u<<2|m>>4;if(s.push(R),g!==64){const x=m<<4&240|g>>2;if(s.push(x),S!==64){const O=g<<6&192|S;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(i){const e=YT(i);return XT.encodeByteArray(e,!0)},gh=function(i){return f1(i).replace(/\./g,"")},WT=function(i){try{return XT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>d1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},g1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&WT(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return u1()||m1()||p1()||g1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ZT=i=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},y1=i=>{const e=ZT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},JT=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config},e0=i=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(n)),gh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function T1(){var i;const e=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function R1(){return!T1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=D1,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?O1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new or(o,m,s)}}function O1(i,e){return i.replace(N1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const N1=/\{\$([^}]+)}/g;function x1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Uv(u)&&Uv(h)){if(!ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Uv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function P1(i,e){const n=new M1(i,e);return n.subscribe.bind(n)}class M1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i){return i&&i._delegate?i._delegate:i}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(i){return i===Ks?void 0:i}function U1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const z1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},B1=Me.INFO,H1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},q1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=H1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const F1=(i,e)=>e.some(n=>i instanceof n);let jv,zv;function G1(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,km=new WeakMap,n0=new WeakMap,_m=new WeakMap,gp=new WeakMap;function $1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(es(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&t0.set(n,i)}).catch(()=>{}),gp.set(e,i),e}function Q1(i){if(km.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});km.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||n0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Y1(i){Lm=i(Lm)}function X1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vm(this),e,...n);return n0.set(s,e.sort?e.sort():[e]),es(s)}:K1().includes(i)?function(...e){return i.apply(vm(this),e),es(t0.get(this))}:function(...e){return es(i.apply(vm(this),e))}}function W1(i){return typeof i=="function"?X1(i):(i instanceof IDBTransaction&&Q1(i),F1(i,G1())?new Proxy(i,Lm):i)}function es(i){if(i instanceof IDBRequest)return $1(i);if(_m.has(i))return _m.get(i);const e=W1(i);return e!==i&&(_m.set(i,e),gp.set(e,i)),e}const vm=i=>gp.get(i);function Z1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=es(h);return s&&h.addEventListener("upgradeneeded",p=>{s(es(h.result),p.oldVersion,p.newVersion,es(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const J1=["get","getKey","getAll","getAllKeys","count"],eI=["put","add","delete","clear"],Em=new Map;function Bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=eI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Em.set(e,u),u}Y1(i=>({...i,get:(e,n,s)=>Bv(e,n)||i.get(e,n,s),has:(e,n)=>!!Bv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Hv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new pp("@firebase/app"),iI="@firebase/app-compat",rI="@firebase/analytics-compat",sI="@firebase/analytics",aI="@firebase/app-check-compat",oI="@firebase/app-check",lI="@firebase/auth",uI="@firebase/auth-compat",cI="@firebase/database",hI="@firebase/data-connect",fI="@firebase/database-compat",dI="@firebase/functions",mI="@firebase/functions-compat",pI="@firebase/installations",gI="@firebase/installations-compat",yI="@firebase/messaging",_I="@firebase/messaging-compat",vI="@firebase/performance",EI="@firebase/performance-compat",TI="@firebase/remote-config",SI="@firebase/remote-config-compat",bI="@firebase/storage",AI="@firebase/storage-compat",wI="@firebase/firestore",RI="@firebase/vertexai",CI="@firebase/firestore-compat",II="firebase",DI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",OI={[Um]:"fire-core",[iI]:"fire-core-compat",[sI]:"fire-analytics",[rI]:"fire-analytics-compat",[oI]:"fire-app-check",[aI]:"fire-app-check-compat",[lI]:"fire-auth",[uI]:"fire-auth-compat",[cI]:"fire-rtdb",[hI]:"fire-data-connect",[fI]:"fire-rtdb-compat",[dI]:"fire-fn",[mI]:"fire-fn-compat",[pI]:"fire-iid",[gI]:"fire-iid-compat",[yI]:"fire-fcm",[_I]:"fire-fcm-compat",[vI]:"fire-perf",[EI]:"fire-perf-compat",[TI]:"fire-rc",[SI]:"fire-rc-compat",[bI]:"fire-gcs",[AI]:"fire-gcs-compat",[wI]:"fire-fst",[CI]:"fire-fst-compat",[RI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,NI=new Map,zm=new Map;function qv(i,e){try{i.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ho(i){const e=i.name;if(zm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const n of yh.values())qv(n,i);for(const n of NI.values())qv(n,i);return!0}function yp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new pu("app","Firebase",xI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=DI;function i0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=JT()),!n)throw ts.create("no-options");const u=yh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const h=new j1(o);for(const p of zm.values())h.addComponent(p);const m=new PI(n,s,h);return yh.set(o,m),m}function r0(i=jm){const e=yh.get(i);if(!e&&i===jm&&JT())return i0();if(!e)throw ts.create("no-app",{appName:i});return e}function ns(i,e,n){var s;let o=(s=OI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}ho(new ta(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebase-heartbeat-database",VI=1,eu="firebase-heartbeat-store";let Tm=null;function s0(){return Tm||(Tm=Z1(MI,VI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function kI(i){try{const n=(await s0()).transaction(eu),s=await n.objectStore(eu).get(a0(i));return await n.done,s}catch(e){if(e instanceof or)ir.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Fv(i,e){try{const s=(await s0()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,a0(i)),await s.done}catch(n){if(n instanceof or)ir.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(s.message)}}}function a0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1024,UI=30;class jI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UI){const h=HI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:s,unsentEntries:o}=zI(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ir.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function zI(i,e=LI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kv(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function HI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){ho(new ta("platform-logger",e=>new tI(e),"PRIVATE")),ho(new ta("heartbeat",e=>new jI(e),"PRIVATE")),ns(Um,Hv,i),ns(Um,Hv,"esm2017"),ns("fire-js","")}qI("");var FI="firebase",GI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(FI,GI,"app");function _p(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function o0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KI=o0,l0=new pu("auth","Firebase",o0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new pp("@firebase/auth");function $I(i,...e){_h.logLevel<=Me.WARN&&_h.warn(`Auth (${Ro}): ${i}`,...e)}function rh(i,...e){_h.logLevel<=Me.ERROR&&_h.error(`Auth (${Ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw vp(i,...e)}function pi(i,...e){return vp(i,...e)}function u0(i,e,n){const s=Object.assign(Object.assign({},KI()),{[e]:n});return new pu("auth","Firebase",s).create(e,{appName:i.name})}function tr(i){return u0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return l0.create(i,...e)}function Ee(i,e,...n){if(!i)throw vp(e,...n)}function Wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function rr(i,e){i||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function QI(){return $v()==="http:"||$v()==="https:"}function $v(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QI()||b1()||"connection"in navigator)?navigator.onLine:!0}function XI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=E1()||A1()}get(){return YI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i,e){rr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new yu(3e4,6e4);function fs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function lr(i,e,n,s,o={}){return h0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return S1()||(g.referrerPolicy="no-referrer"),c0.fetch()(f0(i,i.config.apiHost,n,m),g)})}async function h0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},WI),e);try{const o=new eD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw $c(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw $c(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw u0(i,E,g);Yn(i,E)}}catch(o){if(o instanceof or)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function _u(i,e,n,s,o={}){const u=await lr(i,e,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function f0(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?Ep(i.config,o):`${i.config.apiScheme}://${o}`}function JI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),ZI.get())})}}function $c(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function Qv(i){return i!==void 0&&i.enterprise!==void 0}class tD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nD(i,e){return lr(i,"GET","/v2/recaptchaConfig",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(i,e){return lr(i,"POST","/v1/accounts:delete",e)}async function d0(i,e){return lr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(i,e=!1){const n=fn(i),s=await n.getIdToken(e),o=Tp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(Sm(o.auth_time)),issuedAtTime:$l(Sm(o.iat)),expirationTime:$l(Sm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Sm(i){return Number(i)*1e3}function Tp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=WT(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yv(i){const e=Tp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&sD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function sD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await fo(i,d0(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?m0(u.providerUserInfo):[],m=lD(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function oD(i){const e=fn(i);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function m0(i){return i.map(e=>{var{providerId:n}=e,s=_p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(i,e){const n=await h0(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=f0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",c0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cD(i,e){return lr(i,"POST","/v2/accounts:revokeToken",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await uD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rD(this,e)}reload(){return oD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await fo(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,x=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=n.photoURL)!==null&&h!==void 0?h:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Z=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:oe,isAnonymous:ae,providerData:de,stsTokenManager:N}=n;Ee(W&&N,e,"internal-error");const w=oo.fromJSON(this.name,N);Ee(typeof W=="string",e,"internal-error"),$r(S,e.name),$r(R,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),$r(x,e.name),$r(O,e.name),$r(H,e.name),$r(P,e.name),$r(G,e.name),$r(Z,e.name);const A=new Zi({uid:W,auth:e,email:R,emailVerified:oe,displayName:S,isAnonymous:ae,photoURL:O,phoneNumber:x,tenantId:H,stsTokenManager:w,createdAt:G,lastLoginAt:Z});return de&&Array.isArray(de)&&(A.providerData=de.map(D=>Object.assign({},D))),P&&(A._redirectEventId=P),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function Ji(i){rr(i instanceof Function,"Expected a class definition");let e=Xv.get(i);return e?(rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Xv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p0.type="NONE";const Wv=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(Ji(Wv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Wv);const h=sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){const S=Zi._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(S0(e))return"Webos";if(y0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function g0(i=Jt()){return/firefox\//i.test(i)}function y0(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(i=Jt()){return/crios\//i.test(i)}function v0(i=Jt()){return/iemobile/i.test(i)}function E0(i=Jt()){return/android/i.test(i)}function T0(i=Jt()){return/blackberry/i.test(i)}function S0(i=Jt()){return/webos/i.test(i)}function Sp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hD(i=Jt()){var e;return Sp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fD(){return w1()&&document.documentMode===10}function b0(i=Jt()){return Sp(i)||E0(i)||S0(i)||T0(i)||/windows phone/i.test(i)||v0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i,e=[]){let n;switch(i){case"Browser":n=Zv(Jt());break;case"Worker":n=`${Zv(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(i,e={}){return lr(i,"GET","/v2/passwordPolicy",fs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=6;class gD{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:pD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new dD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await d0(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(tr(this));const n=e?fn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mD(this),n=new gD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$I(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(i){return fn(i)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=P1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(i){Gh=i}function w0(i){return Gh.loadJS(i)}function vD(){return Gh.recaptchaEnterpriseScript}function ED(){return Gh.gapiScript}function TD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new bD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AD="recaptcha-enterprise",R0="NO_RECAPTCHA";class wD{constructor(e){this.type=AD,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{nD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new tD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;Qv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(R0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Qv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vD();p.length!==0&&(p+=m),w0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function eE(i,e,n,s=!1,o=!1){const u=new wD(i);let h;if(o)h=R0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await eE(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await eE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(i,e){const n=yp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function CD(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function ID(i,e,n){const s=oa(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=C0(e),{host:h,port:m}=DD(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ea(g,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,OD()}function C0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function DD(i){const e=C0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:tE(h)}}}function tE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function OD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function ND(i,e){return lr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(i,e){return _u(i,"POST","/v1/accounts:signInWithPassword",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(i,e){return _u(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}async function MD(i,e){return _u(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",xD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,s,"signUpPassword",ND);case"emailLink":return MD(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return _u(i,"POST","/v1/accounts:signInWithIdp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="http://localhost";class na extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=_p(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LD(i){const e=Hl(ql(i)).link,n=e?Hl(ql(e)).deep_link_id:null,s=Hl(ql(i)).deep_link_id;return(s?Hl(ql(s)).link:null)||s||n||e||i}class Ap{constructor(e){var n,s,o,u,h,m;const p=Hl(ql(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=kD((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=LD(e);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return Ee(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends I0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends vu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends vu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(i,e){return _u(i,"POST","/v1/accounts:signUp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),h=nE(s);return new ia({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nE(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends or{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function D0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,s):u})}async function jD(i,e,n=!1){const s=await fo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(i,e,n=!1){const{auth:s}=i;if(Un(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await fo(i,D0(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=Tp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),ia._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(i,e,n=!1){if(Un(i.app))return Promise.reject(tr(i));const s="signIn",o=await D0(i,s,e),u=await ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function BD(i,e){return O0(oa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(i){const e=oa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HD(i,e,n){if(Un(i.app))return Promise.reject(tr(i));const s=oa(i),h=await qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&N0(i),p}),m=await ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function qD(i,e,n){return Un(i.app)?Promise.reject(tr(i)):BD(fn(i),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&N0(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(i,e){return lr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=fn(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await fo(s,FD(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function KD(i,e,n,s){return fn(i).onIdTokenChanged(e,n,s)}function $D(i,e,n){return fn(i).beforeAuthStateChanged(e,n)}function QD(i,e,n,s){return fn(i).onAuthStateChanged(e,n,s)}function x0(i){return fn(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1e3,XD=10;class M0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);fD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M0.type="LOCAL";const WD=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V0.type="SESSION";const k0=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await ZD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function eO(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function tO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function iO(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",rO=1,Sh="firebaseLocalStorage",j0="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function sO(){const i=indexedDB.deleteDatabase(U0);return new Eu(i).toPromise()}function Fm(){const i=indexedDB.open(U0,rO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:j0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await sO(),e(await Fm()))})})}async function iE(i,e,n){const s=$h(i,!0).put({[j0]:e,value:n});return new Eu(s).toPromise()}async function aO(i,e){const n=$h(i,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function rE(i,e){const n=$h(i,!0).delete(e);return new Eu(n).toPromise()}const oO=800,lO=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(iO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tO(),!this.activeServiceWorker)return;this.sender=new JD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await iE(e,Th,"1"),await rE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const uO=z0;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(i,e){return e?Ji(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hO(i){return O0(i.auth,new Rp(i),i.bypassAuthState)}function fO(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),zD(n,new Rp(i),i.bypassAuthState)}async function dO(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),jD(n,new Rp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hO;case"linkViaPopup":case"linkViaRedirect":return dO;case"reauthViaPopup":case"reauthViaRedirect":return fO;default:Yn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new yu(2e3,1e4);class ao extends B0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mO.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="pendingRedirect",ah=new Map;class gO extends B0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await yO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yO(i,e){const n=EO(e),s=vO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _O(i,e){ah.set(i._key(),e)}function vO(i){return Ji(i._redirectPersistence)}function EO(i){return sh(pO,i.config.apiKey,i.name)}async function TO(i,e,n=!1){if(Un(i.app))return Promise.reject(tr(i));const s=oa(i),o=cO(s,e),h=await new gO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=10*60*1e3;class bO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!H0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SO&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function H0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,e={}){return lr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function IO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await wO(i);for(const n of e)try{if(DO(n))return}catch{}Yn(i,"unauthorized-domain")}function DO(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!CO.test(n))return!1;if(RO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new yu(3e4,6e4);function aE(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function NO(i){return new Promise((e,n)=>{var s,o,u;function h(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(pi(i,"network-request-failed"))},timeout:OO.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)h();else{const m=TD("iframefcb");return gi()[m]=()=>{gapi.load?h():n(pi(i,"network-request-failed"))},w0(`${ED()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function xO(i){return oh=oh||NO(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new yu(5e3,15e3),MO="__/auth/iframe",VO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UO(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ep(e,VO):`https://${i.config.authDomain}/${MO}`,s={apiKey:e.apiKey,appName:i.name,v:Ro},o=LO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function jO(i){const e=await xO(i),n=gi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:UO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pi(i,"network-request-failed"),m=gi().setTimeout(()=>{u(h)},PO.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BO=500,HO=600,qO="_blank",FO="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GO(i,e,n,s=BO,o=HO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},zO),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();n&&(m=_0(g)?qO:n),g0(g)&&(e=e||FO,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[x,O])=>`${R}${x}=${O},`,"");if(hD(g)&&m!=="_self")return KO(e||"",m),new oE(null);const S=window.open(e||"",m,E);Ee(S,i,"popup-blocked");try{S.focus()}catch{}return new oE(S)}function KO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="__/auth/handler",QO="emulator/auth/handler",YO=encodeURIComponent("fac");async function lE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof I0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",x1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof vu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${YO}=${encodeURIComponent(p)}`:"";return`${XO(i)}?${gu(m).slice(1)}${g}`}function XO({config:i}){return i.emulator?Ep(i,QO):`https://${i.authDomain}/${$O}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=TO,this._overrideRedirectResult=_O}async _openPopup(e,n,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await lE(e,n,s,Bm(),o);return GO(e,h,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lE(e,n,s,Bm(),o);return eO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jO(e),s=new bO(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[bm];h!==void 0&&n(!!h),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b0()||y0()||Sp()}}const ZO=WO;var uE="@firebase/auth",cE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tN(i){ho(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(i)},g=new yD(s,o,u,p);return CD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new ta("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new JO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(uE,cE,eN(i)),ns(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=5*60,iN=e0("authIdTokenMaxAge")||nN;let hE=null;const rN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iN)return;const o=n==null?void 0:n.token;hE!==o&&(hE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sN(i=r0()){const e=yp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=RD(i,{popupRedirectResolver:ZO,persistence:[uO,WD,k0]}),s=e0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=rN(u.toString());$D(n,h,()=>h(n.currentUser)),KD(n,m=>h(m))}}const o=ZT("auth");return o&&ID(n,`http://${o}`),n}function aN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}_D({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",aN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tN("Browser");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,q0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function A(){}A.prototype=w.prototype,N.D=w.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,L,z){for(var C=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)C[Ae-2]=arguments[Ae];return w.prototype[L].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,A){A||(A=0);var D=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)D[L]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(L=0;16>L;++L)D[L]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=N.g[0],A=N.g[1],L=N.g[2];var z=N.g[3],C=w+(z^A&(L^z))+D[0]+3614090360&4294967295;w=A+(C<<7&4294967295|C>>>25),C=z+(L^w&(A^L))+D[1]+3905402710&4294967295,z=w+(C<<12&4294967295|C>>>20),C=L+(A^z&(w^A))+D[2]+606105819&4294967295,L=z+(C<<17&4294967295|C>>>15),C=A+(w^L&(z^w))+D[3]+3250441966&4294967295,A=L+(C<<22&4294967295|C>>>10),C=w+(z^A&(L^z))+D[4]+4118548399&4294967295,w=A+(C<<7&4294967295|C>>>25),C=z+(L^w&(A^L))+D[5]+1200080426&4294967295,z=w+(C<<12&4294967295|C>>>20),C=L+(A^z&(w^A))+D[6]+2821735955&4294967295,L=z+(C<<17&4294967295|C>>>15),C=A+(w^L&(z^w))+D[7]+4249261313&4294967295,A=L+(C<<22&4294967295|C>>>10),C=w+(z^A&(L^z))+D[8]+1770035416&4294967295,w=A+(C<<7&4294967295|C>>>25),C=z+(L^w&(A^L))+D[9]+2336552879&4294967295,z=w+(C<<12&4294967295|C>>>20),C=L+(A^z&(w^A))+D[10]+4294925233&4294967295,L=z+(C<<17&4294967295|C>>>15),C=A+(w^L&(z^w))+D[11]+2304563134&4294967295,A=L+(C<<22&4294967295|C>>>10),C=w+(z^A&(L^z))+D[12]+1804603682&4294967295,w=A+(C<<7&4294967295|C>>>25),C=z+(L^w&(A^L))+D[13]+4254626195&4294967295,z=w+(C<<12&4294967295|C>>>20),C=L+(A^z&(w^A))+D[14]+2792965006&4294967295,L=z+(C<<17&4294967295|C>>>15),C=A+(w^L&(z^w))+D[15]+1236535329&4294967295,A=L+(C<<22&4294967295|C>>>10),C=w+(L^z&(A^L))+D[1]+4129170786&4294967295,w=A+(C<<5&4294967295|C>>>27),C=z+(A^L&(w^A))+D[6]+3225465664&4294967295,z=w+(C<<9&4294967295|C>>>23),C=L+(w^A&(z^w))+D[11]+643717713&4294967295,L=z+(C<<14&4294967295|C>>>18),C=A+(z^w&(L^z))+D[0]+3921069994&4294967295,A=L+(C<<20&4294967295|C>>>12),C=w+(L^z&(A^L))+D[5]+3593408605&4294967295,w=A+(C<<5&4294967295|C>>>27),C=z+(A^L&(w^A))+D[10]+38016083&4294967295,z=w+(C<<9&4294967295|C>>>23),C=L+(w^A&(z^w))+D[15]+3634488961&4294967295,L=z+(C<<14&4294967295|C>>>18),C=A+(z^w&(L^z))+D[4]+3889429448&4294967295,A=L+(C<<20&4294967295|C>>>12),C=w+(L^z&(A^L))+D[9]+568446438&4294967295,w=A+(C<<5&4294967295|C>>>27),C=z+(A^L&(w^A))+D[14]+3275163606&4294967295,z=w+(C<<9&4294967295|C>>>23),C=L+(w^A&(z^w))+D[3]+4107603335&4294967295,L=z+(C<<14&4294967295|C>>>18),C=A+(z^w&(L^z))+D[8]+1163531501&4294967295,A=L+(C<<20&4294967295|C>>>12),C=w+(L^z&(A^L))+D[13]+2850285829&4294967295,w=A+(C<<5&4294967295|C>>>27),C=z+(A^L&(w^A))+D[2]+4243563512&4294967295,z=w+(C<<9&4294967295|C>>>23),C=L+(w^A&(z^w))+D[7]+1735328473&4294967295,L=z+(C<<14&4294967295|C>>>18),C=A+(z^w&(L^z))+D[12]+2368359562&4294967295,A=L+(C<<20&4294967295|C>>>12),C=w+(A^L^z)+D[5]+4294588738&4294967295,w=A+(C<<4&4294967295|C>>>28),C=z+(w^A^L)+D[8]+2272392833&4294967295,z=w+(C<<11&4294967295|C>>>21),C=L+(z^w^A)+D[11]+1839030562&4294967295,L=z+(C<<16&4294967295|C>>>16),C=A+(L^z^w)+D[14]+4259657740&4294967295,A=L+(C<<23&4294967295|C>>>9),C=w+(A^L^z)+D[1]+2763975236&4294967295,w=A+(C<<4&4294967295|C>>>28),C=z+(w^A^L)+D[4]+1272893353&4294967295,z=w+(C<<11&4294967295|C>>>21),C=L+(z^w^A)+D[7]+4139469664&4294967295,L=z+(C<<16&4294967295|C>>>16),C=A+(L^z^w)+D[10]+3200236656&4294967295,A=L+(C<<23&4294967295|C>>>9),C=w+(A^L^z)+D[13]+681279174&4294967295,w=A+(C<<4&4294967295|C>>>28),C=z+(w^A^L)+D[0]+3936430074&4294967295,z=w+(C<<11&4294967295|C>>>21),C=L+(z^w^A)+D[3]+3572445317&4294967295,L=z+(C<<16&4294967295|C>>>16),C=A+(L^z^w)+D[6]+76029189&4294967295,A=L+(C<<23&4294967295|C>>>9),C=w+(A^L^z)+D[9]+3654602809&4294967295,w=A+(C<<4&4294967295|C>>>28),C=z+(w^A^L)+D[12]+3873151461&4294967295,z=w+(C<<11&4294967295|C>>>21),C=L+(z^w^A)+D[15]+530742520&4294967295,L=z+(C<<16&4294967295|C>>>16),C=A+(L^z^w)+D[2]+3299628645&4294967295,A=L+(C<<23&4294967295|C>>>9),C=w+(L^(A|~z))+D[0]+4096336452&4294967295,w=A+(C<<6&4294967295|C>>>26),C=z+(A^(w|~L))+D[7]+1126891415&4294967295,z=w+(C<<10&4294967295|C>>>22),C=L+(w^(z|~A))+D[14]+2878612391&4294967295,L=z+(C<<15&4294967295|C>>>17),C=A+(z^(L|~w))+D[5]+4237533241&4294967295,A=L+(C<<21&4294967295|C>>>11),C=w+(L^(A|~z))+D[12]+1700485571&4294967295,w=A+(C<<6&4294967295|C>>>26),C=z+(A^(w|~L))+D[3]+2399980690&4294967295,z=w+(C<<10&4294967295|C>>>22),C=L+(w^(z|~A))+D[10]+4293915773&4294967295,L=z+(C<<15&4294967295|C>>>17),C=A+(z^(L|~w))+D[1]+2240044497&4294967295,A=L+(C<<21&4294967295|C>>>11),C=w+(L^(A|~z))+D[8]+1873313359&4294967295,w=A+(C<<6&4294967295|C>>>26),C=z+(A^(w|~L))+D[15]+4264355552&4294967295,z=w+(C<<10&4294967295|C>>>22),C=L+(w^(z|~A))+D[6]+2734768916&4294967295,L=z+(C<<15&4294967295|C>>>17),C=A+(z^(L|~w))+D[13]+1309151649&4294967295,A=L+(C<<21&4294967295|C>>>11),C=w+(L^(A|~z))+D[4]+4149444226&4294967295,w=A+(C<<6&4294967295|C>>>26),C=z+(A^(w|~L))+D[11]+3174756917&4294967295,z=w+(C<<10&4294967295|C>>>22),C=L+(w^(z|~A))+D[2]+718787259&4294967295,L=z+(C<<15&4294967295|C>>>17),C=A+(z^(L|~w))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var A=w-this.blockSize,D=this.B,L=this.h,z=0;z<w;){if(L==0)for(;z<=A;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<w;)if(D[L++]=N.charCodeAt(z++),L==this.blockSize){o(this,D),L=0;break}}else for(;z<w;)if(D[L++]=N[z++],L==this.blockSize){o(this,D),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var A=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.u(N),N=Array(16),w=A=0;4>w;++w)for(var D=0;32>D;D+=8)N[A++]=this.g[w]>>>D&255;return N};function u(N,w){var A=m;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=w(N)}function h(N,w){this.h=w;for(var A=[],D=!0,L=N.length-1;0<=L;L--){var z=N[L]|0;D&&z==w||(A[L]=z,D=!1)}this.g=A}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new h([w|0],0>w?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return P(g(-N));for(var w=[],A=1,D=0;N>=A;D++)w[D]=N/A|0,A*=4294967296;return new h(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return P(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(w,8)),D=S,L=0;L<N.length;L+=8){var z=Math.min(8,N.length-L),C=parseInt(N.substring(L,L+z),w);8>z?(z=g(Math.pow(w,z)),D=D.j(z).add(g(C))):(D=D.j(A),D=D.add(g(C)))}return D}var S=p(0),R=p(1),x=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-P(this).m();for(var N=0,w=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(H(this))return"-"+P(this).toString(N);for(var w=g(Math.pow(N,6)),A=this,D="";;){var L=oe(A,w).g;A=G(A,L.j(w));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=L,O(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function H(N){return N.h==-1}i.l=function(N){return N=G(this,N),H(N)?-1:O(N)?0:1};function P(N){for(var w=N.g.length,A=[],D=0;D<w;D++)A[D]=~N.g[D];return new h(A,~N.h).add(R)}i.abs=function(){return H(this)?P(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],D=0,L=0;L<=w;L++){var z=D+(this.i(L)&65535)+(N.i(L)&65535),C=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);D=C>>>16,z&=65535,C&=65535,A[L]=C<<16|z}return new h(A,A[A.length-1]&-2147483648?-1:0)};function G(N,w){return N.add(P(w))}i.j=function(N){if(O(this)||O(N))return S;if(H(this))return H(N)?P(this).j(P(N)):P(P(this).j(N));if(H(N))return P(this.j(P(N)));if(0>this.l(x)&&0>N.l(x))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,A=[],D=0;D<2*w;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<N.g.length;L++){var z=this.i(D)>>>16,C=this.i(D)&65535,Ae=N.i(L)>>>16,ke=N.i(L)&65535;A[2*D+2*L]+=C*ke,Z(A,2*D+2*L),A[2*D+2*L+1]+=z*ke,Z(A,2*D+2*L+1),A[2*D+2*L+1]+=C*Ae,Z(A,2*D+2*L+1),A[2*D+2*L+2]+=z*Ae,Z(A,2*D+2*L+2)}for(D=0;D<w;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=w;D<2*w;D++)A[D]=0;return new h(A,0)};function Z(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function W(N,w){this.g=N,this.h=w}function oe(N,w){if(O(w))throw Error("division by zero");if(O(N))return new W(S,S);if(H(N))return w=oe(P(N),w),new W(P(w.g),P(w.h));if(H(w))return w=oe(N,P(w)),new W(P(w.g),w.h);if(30<N.g.length){if(H(N)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var A=R,D=w;0>=D.l(N);)A=ae(A),D=ae(D);var L=de(A,1),z=de(D,1);for(D=de(D,2),A=de(A,2);!O(D);){var C=z.add(D);0>=C.l(N)&&(L=L.add(A),z=C),D=de(D,1),A=de(A,1)}return w=G(N,L.j(w)),new W(L,w)}for(L=S;0<=N.l(w);){for(A=Math.max(1,Math.floor(N.m()/w.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(A),C=z.j(w);H(C)||0<C.l(N);)A-=D,z=g(A),C=z.j(w);O(z)&&(z=R),L=L.add(z),N=G(N,C)}return new W(L,N)}i.A=function(N){return oe(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)&N.i(D);return new h(A,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)|N.i(D);return new h(A,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)^N.i(D);return new h(A,this.h^N.h)};function ae(N){for(var w=N.g.length+1,A=[],D=0;D<w;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new h(A,N.h)}function de(N,w){var A=w>>5;w%=32;for(var D=N.g.length-A,L=[],z=0;z<D;z++)L[z]=0<w?N.i(z+A)>>>w|N.i(z+A+1)<<32-w:N.i(z+A);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,q0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,is=h}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,Fl,G0,lh,Gm,K0,$0,Q0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,$){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return y.prototype[B].apply(b,se)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,$=b.length||0;c.length=B+$;for(let se=0;se<$;se++)c[B+se]=b[se]}else c.push(b)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ae=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function de(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let $=0;$<A.length;$++)_=A[$],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function C(){var c=$e;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const b=ke.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ke=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,$e=new Ae,M=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){z(_)}var y=ke;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Oe(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{oe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}O(Oe,le);var Ie={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ot(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++qe,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,_,b,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=Tn(c,y,b,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ot(y,this.src,$,!!b,B),y.fa=_,c.push(y)),y};function Ai(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(b,B,1),$&&(Xe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,y,_,b){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==b)return B}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),cr={};function wi(c,y,_,b,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)wi(c,y[$],_,b,B);return null}return _=wu(_),c&&c[yt]?c.K(y,_,g(b)?!!b.capture:!1,B):xo(c,y,_,!1,b,B)}function xo(c,y,_,b,B,$){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,je=Po(c);if(je||(c[ur]=je=new en(c)),_=je.add(y,_,b,se,$),_.proxy)return _;if(b=fa(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ue||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(ma(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fa(){function c(_){return y.call(c.src,c.listener,_)}const y=of;return c}function da(c,y,_,b,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)da(c,y[$],_,b,B);else b=g(b)?!!b.capture:!!b,_=wu(_),c&&c[yt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Tn($,_,b,B),-1<_&&(Xe($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Po(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Tn(y,_,b,B)),(_=-1<c?y[c]:null)&&ds(_))}function ds(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])Ai(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ma(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Po(y))?(Ai(_,c),_.h==0&&(_.src=null,y[ur]=null)):Xe(c)}}}function ma(c){return c in cr?cr[c]:cr[c]="on"+c}function of(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ds(c),c=_.call(b,y)}return c}function Po(c){return c=c[ur],c instanceof en?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function St(){me.call(this),this.i=new en(this),this.M=this,this.F=null}O(St,me),St.prototype[yt]=!0,St.prototype.removeEventListener=function(c,y,_,b){da(this,c,y,_,b)};function Nt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var B=y;y=new le(b,c),D(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];B=Ri(se,b,!0,y)&&B}if(se=y.g=c,B=Ri(se,b,!0,y)&&B,B=Ri(se,b,!1,y)&&B,_)for($=0;$<_.length;$++)se=y.g=_[$],B=Ri(se,b,!1,y)&&B}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Xe(_[b]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},St.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ri(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var je=se.listener,At=se.ha||se.src;se.fa&&Ai(c.i,se),B=je.call(At,b)!==!1&&B}}return B&&!b.defaultPrevented}function Ru(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Mo(c){c.g=Ru(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class lf extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){me.call(this),this.h=c,this.g={}}O(ms,me);var hr=[];function Kt(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&ds(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),Kt(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,Wn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Cu(c){return c.h||(c.h=c.i())}function Iu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){le.call(this,"d")}O(fr,le);function Bn(){le.call(this,"c")}O(Bn,le);var Sn={},dr=null;function pa(){return dr=dr||new St}Sn.La="serverreachability";function Lo(c){le.call(this,Sn.La,c)}O(Lo,le);function mr(c){const y=pa();Nt(y,new Lo(y))}Sn.STAT_EVENT="statevent";function ga(c,y){le.call(this,Sn.STAT_EVENT,c),this.stat=y}O(ga,le);function mt(c){const y=pa();Nt(y,new ga(y,c))}Sn.Ma="timingevent";function Du(c,y){le.call(this,Sn.Ma,c),this.size=y}O(Du,le);function pr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Ou(c,y,_,b,B,$){c.info(function(){if(c.g)if($)for(var se="",je=$.split("&"),At=0;At<je.length;At++){var ze=je[At].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var wt=Mt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Mt+"="+ze+"&"):se+(Mt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Nu(c,y,_,b,B,$,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+se})}function yr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xt(c,_)+(b?" "+b:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}gr.prototype.info=function(){};function xt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Vo(_)}catch{return y}}var bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function ya(){}O(ya,ko),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},ps=new ya;function ei(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uo}function Uo(){this.i=null,this.g="",this.h=!1}var _r={},gs={};function Hn(c,y,_){c.L=1,c.v=vs(lt(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),nt(c),c.A=lt(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ni(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Uo,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new lf(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hr[0]=B.toString()),B=hr);for(var $=0;$<B.length;$++){var se=wi(_,B[$],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mr(),Ou(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Cn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Vi?mr(3):mr(2)),_a(this);var _=this.g.Z();this.X=_;t:if(vr(this)){var b=Lu(this.g);c="";var B=b.length,$=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),dn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Nu(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,At=this.g;if((je=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(je)){var ze=je;break t}}ze=null}if(_=ze)yr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,_);else{this.o=!1,this.s=3,mt(12),ln(this),dn(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<se.length;)if(jt=Er(this,se),jt==gs){wt==4&&(this.s=4,mt(14),_=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==_r){this.s=4,mt(15),yr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else yr(this.i,this.l,jt,null),mn(this,jt);if(vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)yr(this.i,this.l,se,"[Invalid Chunked Response]"),ln(this),dn(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Rs(Mt),Mt.M=!0,mt(11))}}else yr(this.i,this.l,se,null),mn(this,se);wt==4&&ln(this),this.o&&!this.J&&(wt==4?Hu(this.j,this):(this.o=!1,nt(this)))}else mf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ln(this),dn(this)}}}catch{}finally{}};function vr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Er(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?gs:(_=Number(y.substring(_,b)),isNaN(_)?_r:(b+=1,b+_>y.length?gs:(y=y.slice(b,b+_),c.C=b+_,y)))}ei.prototype.cancel=function(){this.J=!0,ln(this)};function nt(c){c.S=Date.now()+c.I,jo(c,c.I)}function jo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(R(c.ba,c),y)}function _a(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(mr(),mt(17)),ln(this),this.s=2,dn(this)):jo(this,this.S-c)};function dn(c){c.j.G==0||c.J||Hu(c.j,c)}function ln(c){_a(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Kt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function mn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Tr(_.h,c))){if(!c.K&&Tr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ia(_),Ra(_);else break e;Xo(_),mt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=pr(R(_.Za,_),6e3));if(1>=xu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Ia(_),!Z(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let ze=B[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Mt=ze[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const wt=ze[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Vi=ze[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const jt=c.g;if(jt){const oi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var $=b.h;$.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Sr($,$.h),$.h=null))}if(b.D){const Zo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(b.ya=Zo,Fe(b.I,b.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Fu(b,b.J?b.ia:null,b.W),se.K){bn(b.h,se);var je=se,At=b.L;At&&(je.I=At),je.B&&(_a(je),nt(je)),b.g=se}else zu(b);0<_.i.length&&Ca(_)}else ze[0]!="stop"&&ze[0]!="close"||Mi(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Mi(_,7):Qo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}mr(4)}catch{}}var uf=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function Tr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sr(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function cf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ys(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=cf(c),b=Pu(c),B=b.length,$=0;$<B;$++)y.call(void 0,b[$],_&&_[$],c)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var $=c[_].substring(0,b);B=c[_].substring(b+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,br(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ea(this,_),this.m=c.m}else c&&(y=String(c).match(Ho))?(this.h=!1,br(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),_s(this,y[4]),this.l=Ar(y[5]||"",!0),Ea(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Di.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?Fo:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,df)),c.join("")};function lt(c){return new Di(c)}function br(c,y,_){c.j=_?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ea(c,y,_){y instanceof ti?(c.i=y,Go(c.i,c.h)):(_||(y=An(y,ff)),c.i=new ti(y,c.h))}function Fe(c,y,_){c.i.set(y,_)}function vs(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,hf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Mu=/[#\?:]/g,Fo=/[#\?]/g,ff=/[#\?@]/g,df=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ti.prototype,i.add=function(c,y){wn(this),this.i=null,c=xi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ta(c,y){wn(c),y=xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return wn(c),y=xi(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let $=0;$<B.length;$++)_.push(y[b])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=xi(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ni(c,y,_){Ta(c,y),0<_.length&&(c.i=null,c.g.set(xi(c,y),H(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const $=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var B=$;se[b]!==""&&(B+="="+encodeURIComponent(String(se[b]))),c.push(B)}}return this.i=c.join("&")};function xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Go(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Ta(this,b),Ni(this,B,_))},c)),c.j=y}function Vu(c,y){const _=new gr;if(m.Image){const b=new Image;b.onload=x(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=x(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=x(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=x(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Es(c,y){const _=new gr,b=new AbortController,B=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(B),$.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new tn}function ni(c,y,_){const b=_||"";try{ys(c,function(B,$){let se=B;g(B)&&(se=Vo(B)),y.push(b+$+"="+encodeURIComponent(se))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(wr,ko),wr.prototype.g=function(){return new Pi(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Pi,St),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return de(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=$o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,y,_))}function Qe(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,St);var Sa=/^https?$/i,Ss=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?Cu(this.o):Cu(ps),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){ku(this,$);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())_.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ku(this,$)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),si(c)}function ba(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},i.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Ru(c.Ea,0,c);else if(Nt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var B=String(c.D).match(Ho)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!Sa.test(B?B.toLowerCase():"")}_=b}if(_)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var $=2<Cn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ba(c)}}finally{si(c)}}}}function si(c,y){if(c.g){bs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{_.onreadystatechange=b}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Z(c[b]))continue;var _=L(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}N(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){mt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Fu(this,null,this.W),Ca(this)};function Qo(c){if(Uu(c),c.G==3){var y=c.U++,_=lt(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),ws(c,_),y=new ei(c,c.j,y),y.L=2,y.v=vs(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}qu(c)}function Ra(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Uu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!Bo(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||M(),ge||(Te(),ge=!0),$e.add(y,c),c.B=0}}function pf(c,y){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(R(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ei(this,this.j,c);let $=this.o;if(this.S&&($?($=w($),D($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,B,y),_=lt(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),ws(this,_),$&&(this.O?y="headers="+encodeURIComponent(String($o($)))+"&"+y:this.m&&Pt(_,this.m,$)),Sr(this.h,B),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),B.T=!0,Hn(B,_,null)):Hn(B,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||Bo(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const b=lt(c.I);Fe(b,"SID",c.K),Fe(b,"RID",_),Fe(b,"AID",c.T),ws(c,b),c.m&&c.o&&Pt(b,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,_),Hn(_,b,y)}function ws(c,y){c.H&&de(c.H,function(_,b){Fe(y,b,_)}),c.l&&ys({},function(_,b){Fe(y,b,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=B[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let je=!0;for(let At=0;At<_;At++){let ze=B[At].g;const Mt=B[At].map;if(ze-=$,0>ze)$=Math.max(0,B[At].g-100),je=!1;else try{ni(Mt,se,"req"+ze+"_")}catch{b&&b(Mt)}}if(je){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||M(),ge||(Te(),ge=!0),$e.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(R(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ra(this),Bu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(lt(y)),_.m=null,_.P=!0,Ii(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Xo(this),mt(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Ia(c),Rs(c),c.g=null;var b=2}else if(Tr(c.h,y))_=y.D,bn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=pa(),Nt(b,new Du(b,_)),Ca(c)}else zu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&pf(c,y)||b==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const B=!b;b=new Di(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||br(b,"https"),vs(b),B?Vu(b.toString(),_):Es(b.toString(),_)}else mt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=nn(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var b=_ instanceof Di?lt(_):new Di(_);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Di(null);b&&br($,b),y&&($.g=y),B&&_s($,B),_&&($.l=_),b=$}return _=c.D,y=c.ya,_&&y&&Fe(b,_,y),Fe(b,"VER",c.la),ws(c,b),b}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new wr({eb:_})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Da(){}Da.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){St.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}O(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vo(c),c=_);y.i.push(new uf(y.Ya++,c)),y.G==3&&Ca(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.aa.N.call(this)};function $u(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O($u,fr);function Qu(){Bn.call(this),this.status=1}O(Qu,Bn);function ai(c){this.g=c}O(ai,Ku),ai.prototype.ua=function(){Nt(this.g,"a")},ai.prototype.ta=function(c){Nt(this.g,new $u(c))},ai.prototype.sa=function(c){Nt(this.g,new Qu)},ai.prototype.ra=function(){Nt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Q0=function(){return new Da},$0=function(){return pa()},K0=Sn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,lh=bt,Ci.COMPLETE="complete",G0=Ci,Iu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.K,Fl=Iu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,F0=Qe}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",mE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new pp("@firebase/firestore");function no(){return ra.logLevel}function ce(i,...e){if(ra.logLevel<=Me.DEBUG){const n=e.map(Cp);ra.debug(`Firestore (${Io}): ${i}`,...n)}}function sr(i,...e){if(ra.logLevel<=Me.ERROR){const n=e.map(Cp);ra.error(`Firestore (${Io}): ${i}`,...n)}}function mo(i,...e){if(ra.logLevel<=Me.WARN){const n=e.map(Cp);ra.warn(`Firestore (${Io}): ${i}`,...n)}}function Cp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+i;throw sr(e),new Error(e)}function Ye(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class lN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uN{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new Y0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Xt(e)}}class cN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new cN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function po(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,yE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yE);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(),s===void 0?s=e.length-n:s>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class ft extends mi{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const mN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return mN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Ft([_E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function pN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new as(o,_e.empty(),e)}function gN(i){return new as(i.readTime,i.key,nu)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(be.min(),_e.empty(),nu)}static max(){return new as(be.max(),_e.empty(),nu)}}function yN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==_N)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function EN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Yh(i){return i==null}function bh(i){return i===0&&1/i==-1/0}function TN(i){return typeof i=="number"&&Number.isInteger(i)&&!bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="";function SN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=vE(e)),e=bN(i.get(n),e);return vE(e)}function bN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case W0:n+="";break;default:n+=u}}return n}function vE(i){return i+W0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function la(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Z0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new J0("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(Ye(!!i),typeof i=="string"){let e=0;const n=AN.exec(i);if(Ye(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="server_timestamp",tS="__type__",nS="__previous_value__",iS="__local_write_time__";function Dp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function Xh(i){const e=i.mapValue.fields[nS];return Dp(e)?Xh(e):e}function iu(i){const e=os(i.mapValue.fields[iS].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,s,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ah="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",RN="__max__",Xc={mapValue:{}},sS="__vector__",wh="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dp(i)?4:IN(i)?9007199254740991:CN(i)?10:11:Se()}function Ei(i,e){if(i===e)return!0;const n=us(i);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),m=os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?bh(h)===bh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(EE(h)!==EE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ei(h[p],m[p])))return!1;return!0}(i,e);default:return Se()}}function su(i,e){return(i.values||[]).find(n=>Ei(n,e))!==void 0}function go(i,e){if(i===e)return 0;const n=us(i),s=us(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return SE(i.timestampValue,e.timestampValue);case 4:return SE(iu(i),iu(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ls(u),p=ls(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ue(gt(u.latitude),gt(h.latitude));return m!==0?m:Ue(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return bE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const S=u.fields||{},R=h.fields||{},x=(m=S[wh])===null||m===void 0?void 0:m.arrayValue,O=(p=R[wh])===null||p===void 0?void 0:p.arrayValue,H=Ue(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:bE(x,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xc.mapValue&&h===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(h===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Ue(p[S],E[S]);if(R!==0)return R;const x=go(m[p[S]],g[E[S]]);if(x!==0)return x}return Ue(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se()}}function SE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=os(i),s=os(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function bE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function yo(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ls(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Km(n.fields[h])}`;return o+"}"}(i.mapValue):Se()}function uh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return la(s.fields,(u,h)=>{o+=u.length+uh(h)}),o}(i.mapValue);default:throw Se()}}function $m(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function AE(i){return!!i&&"nullValue"in i}function wE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function CN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||n===void 0?void 0:n.stringValue)===sS}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return la(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ql(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return Object.assign({},i)}function IN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Ql(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){la(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new jn(Ql(this.value))}}function aS(i){const e=[];return la(i.fields,(n,s)=>{const o=new Ft([n]);if(ch(s)){const u=aS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function RE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ei(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class It extends oS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NN(e,n,s):n==="array-contains"?new MN(e,s):n==="in"?new VN(e,s):n==="not-in"?new kN(e,s):n==="array-contains-any"?new LN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xN(e,s):new PN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ti(e,n)}matches(e){return lS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lS(i){return i.op==="and"}function uS(i){return ON(i)&&lS(i)}function ON(i){for(const e of i.filters)if(e instanceof Ti)return!1;return!0}function Qm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(uS(i))return i.filters.map(e=>Qm(e)).join(",");{const e=i.filters.map(n=>Qm(n)).join(",");return`${i.op}(${e})`}}function cS(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(i,e):i instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&cS(h,o.filters[m]),!0):!1}(i,e):void Se()}function hS(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(i):i instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"}(i):"Filter"}class NN extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class xN extends It{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PN extends It{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fS(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class MN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&su(n.arrayValue,this.value)}}class VN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class kN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}}class LN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function IE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new UN(i,e,n,s,o,u,h)}function Np(i){const e=Re(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>yo(s)).join(",")),e.le=n}return e.le}function xp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!DN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!CE(i.startAt,e.startAt)&&CE(i.endAt,e.endAt)}function Ym(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jN(i,e,n,s,o,u,h,m){return new Wh(i,e,n,s,o,u,h,m)}function Pp(i){return new Wh(i)}function DE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zN(i){return i.collectionGroup!==null}function Yl(i){const e=Re(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ch(u,s))}),n.has(Ft.keyField().canonicalString())||e.he.push(new Ch(Ft.keyField(),s))}return e.he}function yi(i){const e=Re(i);return e.Pe||(e.Pe=BN(e,Yl(i))),e.Pe}function BN(i,e){if(i.limitType==="F")return IE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)});const n=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return IE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Xm(i,e,n){return new Wh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Zh(i,e){return xp(yi(i),yi(e))&&i.limitType===e.limitType}function dS(i){return`${Np(yi(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>hS(o)).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>yo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>yo(o)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=RE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(h,m,p){const g=RE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(i,e)}function HN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mS(i){return(e,n)=>{let s=!1;for(const o of Yl(i)){const u=qN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qN(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Se()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new at(_e.comparator);function ar(){return FN}const pS=new at(_e.comparator);function Gl(...i){let e=pS;for(const n of i)e=e.insert(n.key,n);return e}function gS(i){let e=pS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Qs(){return Xl()}function yS(){return Xl()}function Xl(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const GN=new at(_e.comparator),KN=new Ot(_e.comparator);function Ve(...i){let e=KN;for(const n of i)e=e.add(n);return e}const $N=new Ot(Ue);function QN(){return $N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function _S(i){return{integerValue:""+i}}function YN(i,e){return TN(e)?_S(e):Mp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function XN(i,e,n){return i instanceof Ih?function(o,u){const h={fields:{[tS]:{stringValue:eS},[iS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Xh(u)),u&&(h.fields[nS]=u),{mapValue:h}}(n,e):i instanceof au?ES(i,e):i instanceof ou?TS(i,e):function(o,u){const h=vS(o,u),m=OE(h)+OE(o.Ie);return $m(h)&&$m(o.Ie)?_S(m):Mp(o.serializer,m)}(i,e)}function WN(i,e,n){return i instanceof au?ES(i,e):i instanceof ou?TS(i,e):n}function vS(i,e){return i instanceof Dh?function(s){return $m(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ih extends ef{}class au extends ef{constructor(e){super(),this.elements=e}}function ES(i,e){const n=SS(e);for(const s of i.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class ou extends ef{constructor(e){super(),this.elements=e}}function TS(i,e){let n=SS(e);for(const s of i.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class Dh extends ef{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function OE(i){return gt(i.integerValue||i.doubleValue)}function SS(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ZN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?po(s.elements,o.elements,Ei):s instanceof Dh&&o instanceof Dh?Ei(s.Ie,o.Ie):s instanceof Ih&&o instanceof Ih}(i.transform,e.transform)}class JN{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tf{}function bS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wS(i.key,nr.none()):new Tu(i.key,i.data,nr.none());{const n=i.data,s=jn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ca(i.key,s,new Qn(o.toArray()),nr.none())}}function e2(i,e,n){i instanceof Tu?function(o,u,h){const m=o.value.clone(),p=xE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ca?function(o,u,h){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=xE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(AS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Wl(i,e,n,s){return i instanceof Tu?function(u,h,m,p){if(!hh(u.precondition,h))return m;const g=u.value.clone(),E=PE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ca?function(u,h,m,p){if(!hh(u.precondition,h))return m;const g=PE(u.fieldTransforms,p,h),E=h.data;return E.setAll(AS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,h,m){return hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function t2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=vS(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function NE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,h)=>ZN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Tu extends tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function xE(i,e,n){const s=new Map;Ye(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,WN(h,m,n[o]))}return s}function PE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,XN(u,h,e))}return s}class wS extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n2 extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&e2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=bS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>NE(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>NE(n,s))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length);let o=function(){return GN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Vp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,He;function a2(i){switch(i){case ie.OK:return Se();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se()}}function RS(i){if(i===void 0)return sr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Tt.OK:return ie.OK;case Tt.CANCELLED:return ie.CANCELLED;case Tt.UNKNOWN:return ie.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ie.INTERNAL;case Tt.UNAVAILABLE:return ie.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ie.NOT_FOUND;case Tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tt.ABORTED:return ie.ABORTED;case Tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tt.DATA_LOSS:return ie.DATA_LOSS;default:return Se()}}(He=Tt||(Tt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new is([4294967295,4294967295],0);function ME(i){const e=o2().encode(i),n=new q0;return n.update(e),new Uint8Array(n.digest())}function VE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=is.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(l2)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=ME(e),[s,o]=VE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new kp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=ME(e),[s,o]=VE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nf(be.min(),o,new at(Ue),ar(),Ve())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class CS{constructor(e,n){this.targetId=e,this.ge=n}}class IS{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.pe=0,this.ye=LE(),this.we=Gt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new Su(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=LE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class u2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new at(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Ym(u))if(s===0){const h=new _e(u.path);this.ze(n,h,Wt.newNoDocument(h,be.min()))}else Ye(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ls(s).toUint8Array()}catch(p){if(p instanceof J0)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(h,o,u)}catch(p){return mo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Ym(m.target)){const p=new _e(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new nf(e,n,this.Ue,this.Qe,s);return this.Qe=ar(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new at(Ue),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new at(_e.comparator)}function LE(){return new at(_e.comparator)}const c2={asc:"ASCENDING",desc:"DESCENDING"},h2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f2={and:"AND",or:"OR"};class d2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Oh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function m2(i,e){return Oh(i,e.toTimestamp())}function _i(i){return Ye(!!i),be.fromTimestamp(function(n){const s=os(n);return new Dt(s.seconds,s.nanos)}(i))}function Lp(i,e){return Zm(i,e).canonicalString()}function Zm(i,e){const n=function(o){return new ft(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function OS(i){const e=ft.fromString(i);return Ye(VS(e)),e}function Jm(i,e){return Lp(i.databaseId,e.path)}function Am(i,e){const n=OS(e);if(n.get(1)!==i.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(xS(n))}function NS(i,e){return Lp(i.databaseId,e)}function p2(i){const e=OS(i);return e.length===4?ft.emptyPath():xS(e)}function ep(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xS(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function UE(i,e,n){return{name:Jm(i,e),fields:n.value.mapValue.fields}}function g2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:RS(g.code);return new ye(E,g.message||"")}(h);n=new IS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(i,s.document.name),u=_i(s.document.updateTime),h=s.document.createTime?_i(s.document.createTime):be.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(i,s.document),u=s.readTime?_i(s.readTime):be.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(i,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new s2(o,u),m=s.targetId;n=new CS(m,h)}}return n}function y2(i,e){let n;if(e instanceof Tu)n={update:UE(i,e.key,e.value)};else if(e instanceof wS)n={delete:Jm(i,e.key)};else if(e instanceof ca)n={update:UE(i,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof n2))return Se();n={verify:Jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Ih)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Se()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:m2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),n}function _2(i,e){return i&&i.length>0?(Ye(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?_i(o.updateTime):_i(u);return h.isEqual(be.min())&&(h=_i(u)),new JN(h,o.transformResults||[])}(n,e))):[]}function v2(i,e){return{documents:[NS(i,e.path)]}}function E2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NS(i,o);const u=function(g){if(g.length!==0)return MS(Ti.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:ro(R.field),direction:b2(R.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Wm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function T2(i){let e=p2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=PS(S);return R instanceof Ti&&uS(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(R=>function(O){return new Ch(so(O.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Yh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(S){const R=!!S.before,x=S.values||[];return new Rh(x,R)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const R=!S.before,x=S.values||[];return new Rh(x,R)}(n.endAt)),jN(e,o,h,u,m,"F",p,g)}function S2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(n){return It.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>PS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(i):Se()}function b2(i){return c2[i]}function A2(i){return h2[i]}function w2(i){return f2[i]}function ro(i){return{fieldPath:i.canonicalString()}}function so(i){return Ft.fromServerFormat(i.fieldPath)}function MS(i){return i instanceof It?function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:A2(n.op),value:n.value}}}(i):i instanceof Ti?function(n){const s=n.getFilters().map(o=>MS(o));return s.length===1?s[0]:{compositeFilter:{op:w2(n.op),filters:s}}}(i):Se()}function R2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.Tt=e}}function I2(i){const e=T2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.Tn=new O2}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(as.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class O2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(kS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _o(0)}static Un(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",N2=1048576;function BE([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class x2{constructor(e){this.Hn=e,this.buffer=new Ot(BE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();BE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(zE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ce(zE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class M2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Qh.ae);const s=new x2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(jE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),no()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function V2(i,e){return new M2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.changes=new ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,Qn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Gl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=ar();const h=Xl(),m=function(){return Xl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ca)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):h.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new L2(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new at((h,m)=>h-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Qn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=yS();E.forEach(R=>{if(!u.has(R)){const x=bS(n.get(R),s.get(R));x!==null&&S.set(R,x),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Qs());let m=nu,p=u;return h.next(g=>ee.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:gS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(S,R){return new Wh(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let m=Gl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Qn.empty(),Dt.now()),Jh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:I2(o.bundledQuery),readTime:_i(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.overlays=new at(_e.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new r2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Vr=new Ot(Ut.mr),this.gr=new Ot(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new _e(new ft([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new ft([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(Ut.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new i2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ip:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ue);return n.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new _e(u),0);let m=new Ot(Ue);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.kr=e,this.docs=function(){return new at(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||yN(gN(E),s)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new F2(this)}getSize(e){return ee.resolve(this.size)}}class F2 extends k2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.persistence=e,this.Qr=new ua(n=>Np(n),xp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Up,this.targetCount=0,this.Ur=_o.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Qh(0),this.zr=!1,this.zr=!0,this.jr=new B2,this.referenceDelegate=e(this),this.Hr=new G2(this),this.indexManager=new D2,this.remoteDocumentCache=function(o){return new q2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new C2(n),this.Yr=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new H2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new K2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class K2 extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.ti=new Up,this.ni=null}static ri(e){return new jp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.oi=new ua(s=>SN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=V2(this,n)}static ri(e,n){return new Nh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return R1()?8:EN(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new $2;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(no()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(no()<=Me.DEBUG&&ce("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):ee.resolve())}rs(e,n){if(DE(n))return ee.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(e,Xm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return DE(n)||o.isEqual(be.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?ee.resolve(null):(no()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.hs(e,h,n,pN(o,nu)).next(m=>m))})}cs(e,n){let s=new Ot(mS(e));return n.forEach((o,u)=>{Jh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return no()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",io(n)),this.ns.getDocumentsMatchingQuery(e,n,as.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",Y2=3e8;class X2{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ue),this.Is=new ua(u=>Np(u),xp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function W2(i,e,n,s){return new X2(i,e,n,s)}async function US(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function Z2(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let x=ee.resolve();return R.forEach(O=>{x=x.next(()=>E.getEntry(p,O)).next(H=>{const P=g.docVersions.get(O);Ye(P!==null),H.version.compareTo(P)<0&&(S.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function jS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function J2(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let x=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(Gt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(S,x),function(H,P,G){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=Y2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,x,E)&&m.push(n.Hr.updateTargetData(u,x))});let p=ar(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(ex(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function ex(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ar();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function tx(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nx(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function tp(i,e,n){const s=Re(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Oo(h))throw h;ce(Bp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function HE(i,e,n){const s=Re(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const S=Re(p),R=S.Is.get(E);return R!==void 0?ee.resolve(S.Ts.get(R)):S.Hr.getTargetData(g,E)}(s,h,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve())).next(m=>(ix(s,HN(e),m),{documents:m,gs:u})))}function ix(i,e,n){let s=i.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class qE{constructor(){this.activeTargetIds=QN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rx{constructor(){this.ho=new qE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class GE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(FE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function np(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",ax={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ox{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const h=np(),m=this.So(e,n.toUriEncodedString());ce(wm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(wm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw mo(wm,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,h){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=ax[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class ux extends ox{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=np();return new Promise((h,m)=>{const p=new F0;p.setWithCredentials(!0),p.listenOnce(G0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const E=p.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case lh.TIMEOUT:ce(Yt,`RPC '${e}' ${u} timed out`),m(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const S=p.getStatus();if(ce(Yt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R==null?void 0:R.error;if(x&&x.status&&x.message){const O=function(P){const G=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN}(x.status);m(new ye(O,x.message))}else m(new ye(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=np(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Q0(),m=$0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let R=!1,x=!1;const O=new lx({Fo:P=>{x?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(R||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Mo:()=>S.close()}),H=(P,G,Z)=>{P.listen(G,W=>{try{Z(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return H(S,Fl.EventType.OPEN,()=>{x||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),H(S,Fl.EventType.CLOSE,()=>{x||(x=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),H(S,Fl.EventType.ERROR,P=>{x||(x=!0,mo(Yt,`RPC '${e}' stream ${o} transport errored:`,P),O.Ko(new ye(ie.UNAVAILABLE,"The operation could not be completed")))}),H(S,Fl.EventType.MESSAGE,P=>{var G;if(!x){const Z=P.data[0];Ye(!!Z);const W=Z,oe=(W==null?void 0:W.error)||((G=W[0])===null||G===void 0?void 0:G.error);if(oe){ce(Yt,`RPC '${e}' stream ${o} received error:`,oe);const ae=oe.status;let de=function(A){const D=Tt[A];if(D!==void 0)return RS(D)}(ae),N=oe.message;de===void 0&&(de=ie.INTERNAL,N="Unknown error status: "+ae+" with message "+oe.message),x=!0,O.Ko(new ye(de,N)),S.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,Z),O.Uo(Z)}}),H(m,K0.STAT_EVENT,P=>{P.stat===Gm.PROXY?ce(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Gm.NOPROXY&&ce(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new d2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="PersistentStream";class BS{constructor(e,n,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(KE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(KE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cx extends BS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=g2(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?_i(h.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=ep(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Ym(p)?{documents:v2(u,p)}:{query:E2(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=DS(u,h.resumeToken);const g=Wm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Oh(u,h.snapshotVersion.toTimestamp());const g=Wm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=S2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.I_(n)}}class hx extends BS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=_2(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=ep(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>y2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{}class dx extends fx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Zm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Zm(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class px{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ha(this)&&(ce(sa,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await bu(g),g.j_.set("Unknown"),g.W_.delete(4),await sf(g)}(this))})}),this.j_=new mx(s,o)}}async function sf(i){if(ha(i))for(const e of i.G_)await e(!0)}async function bu(i){for(const e of i.G_)await e(!1)}function HS(i,e){const n=Re(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Gp(n)?Fp(n):No(n).c_()&&qp(n,e))}function Hp(i,e){const n=Re(i),s=No(n);n.U_.delete(e),s.c_()&&qS(n,e),n.U_.size===0&&(s.c_()?s.P_():ha(n)&&n.j_.set("Unknown"))}function qp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(i).y_(e)}function qS(i,e){i.H_.Ne(e),No(i).w_(e)}function Fp(i){i.H_=new u2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),No(i).start(),i.j_.B_()}function Gp(i){return ha(i)&&!No(i).u_()&&i.U_.size>0}function ha(i){return Re(i).W_.size===0}function FS(i){i.H_=void 0}async function gx(i){i.j_.set("Online")}async function yx(i){i.U_.forEach((e,n)=>{qp(i,e)})}async function _x(i,e){FS(i),Gp(i)?(i.j_.q_(e),Fp(i)):i.j_.set("Unknown")}async function vx(i,e,n){if(i.j_.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ce(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof fh?i.H_.We(e):e instanceof CS?i.H_.Ze(e):i.H_.je(e),!n.isEqual(be.min()))try{const s=await jS(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),qS(u,p);const S=new Jr(E.target,p,g,E.sequenceNumber);qp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(sa,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,n){if(!Oo(e))throw e;i.W_.add(1),await bu(i),i.j_.set("Offline"),n||(n=()=>jS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(sa,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await sf(i)})}function GS(i,e){return e().catch(n=>xh(i,n,e))}async function af(i){const e=Re(i),n=cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ip;for(;Ex(e);)try{const o=await tx(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,Tx(e,o)}catch(o){await xh(e,o)}KS(e)&&$S(e)}function Ex(i){return ha(i)&&i.K_.length<10}function Tx(i,e){i.K_.push(e);const n=cs(i);n.c_()&&n.b_&&n.S_(e.mutations)}function KS(i){return ha(i)&&!cs(i).u_()&&i.K_.length>0}function $S(i){cs(i).start()}async function Sx(i){cs(i).C_()}async function bx(i){const e=cs(i);for(const n of i.K_)e.S_(n.mutations)}async function Ax(i,e,n){const s=i.K_.shift(),o=Vp.from(s,e,n);await GS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function wx(i,e){e&&cs(i).b_&&await async function(s,o){if(function(h){return a2(h)&&h!==ie.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await GS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await af(s)}}(i,e),KS(i)&&$S(i)}async function $E(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ce(sa,"RemoteStore received new credentials");const s=ha(n);n.W_.add(3),await bu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await sf(n)}async function Rx(i,e){const n=Re(i);e?(n.W_.delete(2),await sf(n)):e||(n.W_.add(2),await bu(n),n.j_.set("Unknown"))}function No(i){return i.J_||(i.J_=function(n,s,o){const u=Re(n);return u.M_(),new cx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:gx.bind(null,i),No:yx.bind(null,i),Lo:_x.bind(null,i),p_:vx.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Gp(i)?Fp(i):i.j_.set("Unknown")):(await i.J_.stop(),FS(i))})),i.J_}function cs(i){return i.Y_||(i.Y_=function(n,s,o){const u=Re(n);return u.M_(),new hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:Sx.bind(null,i),Lo:wx.bind(null,i),D_:bx.bind(null,i),v_:Ax.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await af(i)):(await i.Y_.stop(),i.K_.length>0&&(ce(sa,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Kp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(i,e){if(sr("AsyncQueue",`${e}: ${i}`),Oo(i))return new ye(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.Z_=new at(_e.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new vo(e,n,co.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ix{constructor(){this.queries=YE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=YE(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function YE(){return new ua(i=>dS(i),Zh)}async function Dx(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new Cx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=$p(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Qp(n)}async function Ox(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Nx(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&Qp(n)}function xx(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Qp(i){i.ia.forEach(e=>{e.next()})}var ip,XE;(XE=ip||(ip={}))._a="default",XE.Cache="cache";class Px{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class Mx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=mS(e),this.wa=new co(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new QE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),x=Jh(this.query,S)?S:null,O=!!R&&this.mutatedKeys.has(R.key),H=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;R&&x?R.data.isEqual(x.data)?O!==H&&(s.track({type:3,doc:x}),P=!0):this.va(R,x)||(s.track({type:2,doc:x}),P=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(m=!0)):!R&&x?(s.track({type:0,doc:x}),P=!0):R&&!x&&(s.track({type:1,doc:R}),P=!0,(p||g)&&(m=!0)),P&&(x?(h=h.add(x),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(x,O){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return H(x)-H(O)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new vo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new QE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new YS(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new QS(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yp="SyncEngine";class Vx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class kx{constructor(e){this.key=e,this.Ba=!1}}class Lx{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ua(m=>dS(m),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new at(_e.comparator),this.Ka=new Map,this.Ua=new Up,this.Wa={},this.Ga=new Map,this.za=_o.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ux(i,e,n=!0){const s=tb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await XS(s,e,n,!0),o}async function jx(i,e){const n=tb(i);await XS(n,e,!0,!1)}async function XS(i,e,n,s){const o=await nx(i.localStore,yi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&HS(i.remoteStore,o),m}async function zx(i,e,n,s,o){i.Ha=(S,R,x)=>async function(H,P,G,Z){let W=P.view.Sa(G);W.ls&&(W=await HE(H.localStore,P.query,!1).then(({documents:N})=>P.view.Sa(N,W)));const oe=Z&&Z.targetChanges.get(P.targetId),ae=Z&&Z.targetMismatches.get(P.targetId)!=null,de=P.view.applyChanges(W,H.isPrimaryClient,oe,ae);return ZE(H,P.targetId,de.Ma),de.snapshot}(i,S,R,x);const u=await HE(i.localStore,e,!0),h=new Mx(e,u.gs),m=h.Sa(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);ZE(i,n,g.Ma);const E=new Vx(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function Bx(i,e,n){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Zh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),rp(s,o.targetId)}).catch(Do)):(rp(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function Hx(i,e){const n=Re(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function qx(i,e,n){const s=Xx(i);try{const o=await function(h,m){const p=Re(h),g=Dt.now(),E=m.reduce((x,O)=>x.add(O.key),Ve());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=ar(),H=Ve();return p.ds.getEntries(x,E).next(P=>{O=P,O.forEach((G,Z)=>{Z.isValidDocument()||(H=H.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,O)).next(P=>{S=P;const G=[];for(const Z of m){const W=t2(Z,S.get(Z.key).overlayedDocument);W!=null&&G.push(new ca(Z.key,W,aS(W.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,G,m)}).next(P=>{R=P;const G=P.applyToLocalDocumentSet(S,H);return p.documentOverlayCache.saveOverlays(x,P.batchId,G)})}).then(()=>({batchId:R.batchId,changes:gS(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new at(Ue)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await Au(s,o.changes),await af(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function WS(i,e){const n=Re(i);try{const s=await J2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ka.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ye(h.Ba):o.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await Au(n,s,e)}catch(s){await Do(s)}}function WE(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(g=!0)}),g&&Qp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Fx(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new at(_e.comparator);h=h.insert(u,Wt.newNoDocument(u,be.min()));const m=Ve().add(u),p=new nf(be.min(),new Map,new at(Ue),h,m);await WS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Xp(s)}else await tp(s.localStore,e,!1).then(()=>rp(s,e,n)).catch(Do)}async function Gx(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await Z2(n.localStore,e);JS(n,s,null),ZS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Do(o)}}async function Kx(i,e,n){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ye(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);JS(s,e,n),ZS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await Do(o)}}function ZS(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function JS(i,e,n){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||eb(i,s)})}function eb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Hp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Xp(i))}function ZE(i,e,n){for(const s of n)s instanceof QS?(i.Ua.addReference(s.key,e),$x(i,s)):s instanceof YS?(ce(Yp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||eb(i,s.key)):Se()}function $x(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce(Yp,"New document in limbo: "+n),i.Qa.add(s),Xp(i))}function Xp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new _e(ft.fromString(e)),s=i.za.next();i.Ka.set(s,new kx(n)),i.$a=i.$a.insert(n,s),HS(i.remoteStore,new Jr(yi(Pp(n.path)),s,"TargetPurposeLimboResolution",Qh.ae))}}async function Au(i,e,n){const s=Re(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=zp.Yi(p.targetId,g);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(g,R=>ee.forEach(R.Hi,x=>E.persistence.referenceDelegate.addReference(S,R.targetId,x)).next(()=>ee.forEach(R.Ji,x=>E.persistence.referenceDelegate.removeReference(S,R.targetId,x)))))}catch(S){if(!Oo(S))throw S;ce(Bp,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const x=E.Ts.get(R),O=x.snapshotVersion,H=x.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(R,H)}}}(s.localStore,u))}async function Qx(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ce(Yp,"User change. New user:",e.toKey());const s=await US(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ye(ie.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Rs)}}function Yx(i,e){const n=Re(i),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function tb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fx.bind(null,e),e.La.p_=Nx.bind(null,e.eventManager),e.La.Ja=xx.bind(null,e.eventManager),e}function Xx(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kx.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return W2(this.persistence,new Q2,e.initialUser,this.serializer)}Xa(e){return new LS(jp.ri,this.serializer)}Za(e){return new rx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Wx extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Nh);const s=this.persistence.referenceDelegate.garbageCollector;return new P2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new LS(s=>Nh.ri(s,n),this.serializer)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>WE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qx.bind(null,this.syncEngine),await Rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ix}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),s=function(u){return new ux(u)}(e.databaseInfo);return function(u,h,m,p){return new dx(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new px(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>WE(this.syncEngine,n,0),function(){return GE.D()?new GE:new sx}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const S=new Lx(o,u,h,m,p,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);ce(sa,"RemoteStore shutting down."),u.W_.add(5),await bu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class Jx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(hs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await US(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function JE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await eP(i);ce(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>$E(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>$E(e.remoteStore,o)),i._onlineComponents=e}async function eP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(hs,"Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(i,new Ph)}}else ce(hs,"Using default OfflineComponentProvider"),await Cm(i,new Wx(void 0));return i._offlineComponents}async function nb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(hs,"Using user provided OnlineComponentProvider"),await JE(i,i._uninitializedComponentsProvider._online)):(ce(hs,"Using default OnlineComponentProvider"),await JE(i,new sp))),i._onlineComponents}function tP(i){return nb(i).then(e=>e.syncEngine)}async function nP(i){const e=await nb(i),n=e.eventManager;return n.onListen=Ux.bind(null,e.syncEngine),n.onUnlisten=Bx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hx.bind(null,e.syncEngine),n}function iP(i,e,n={}){const s=new rs;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Zx({next:R=>{E.su(),h.enqueueAndForget(()=>Ox(u,S));const x=R.docs.has(m);!x&&R.fromCache?g.reject(new ye(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&p&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new Px(Pp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Dx(u,S)}(await nP(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(i,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sP(i,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tT(i){if(!_e.isDocumentKey(i))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function lu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wp(i);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firestore.googleapis.com",nT=!0;class iT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rb,this.ssl=nT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oN;switch(s.type){case"firstParty":return new hN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=eT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),eT.delete(n),s.terminate())}(this),Promise.resolve()}}function aP(i,e,n,s={}){var o;const u=(i=lu(i,Zp))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==rb&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ea(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xt.MOCK_USER;else{g=v1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(S)}i._authCredentials=new lN(new Y0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jp(this.firestore,e,this._query)}}class zn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class uu extends Jp{constructor(e,n,s){super(e,n,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new _e(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function sb(i,e,...n){if(i=fn(i),arguments.length===1&&(e=X0.newId()),rP("doc","path",e),i instanceof Zp){const s=ft.fromString(e,...n);return tT(s),new zn(i,null,new _e(s))}{if(!(i instanceof zn||i instanceof uu))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return tT(s),new zn(i.firestore,i instanceof uu?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class sT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zS(this,"async_queue_retry"),this.bu=()=>{const s=Rm();s&&ce(rT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ce(rT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class eg extends Zp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new sT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function oP(i,e){const n=typeof i=="object"?i:r0(),s=typeof i=="string"?i:Ah,o=yp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=y1("firestore");u&&aP(o,...u)}return o}function ab(i){if(i._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lP(i),i._firestoreClient}function lP(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new wN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ib(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Jx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Gt.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class cP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}function lb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class rg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&uP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rf(e)}ju(e,n,s,o=!1){return new rg({Lu:e,methodName:n,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fP(i){const e=i._freezeSettings(),n=rf(i._databaseId);return new hP(i._databaseId,!!e.ignoreUndefinedProperties,n)}function dP(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);fb("Data must be an object, but it was:",h,s);const m=cb(s,h);let p,g;if(u.merge)p=new Qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=mP(e,S,n);if(!h.contains(R))throw new ye(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);gP(E,R)||E.push(R)}p=new Qn(E),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new cP(new jn(m),p,g)}function ub(i,e){if(hb(i=fn(i)))return fb("Unsupported field value:",e,i),cb(i,e);if(i instanceof ob)return function(s,o){if(!lb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ub(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof ng)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:DS(o.serializer,s._byteString)};if(s instanceof zn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ig)return function(h,m){return{mapValue:{fields:{[rS]:{stringValue:sS},[wh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Mp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Wp(s)}`)}(i,e)}function cb(i,e){const n={};return Z0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(i,(s,o)=>{const u=ub(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function hb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof ng||i instanceof Eo||i instanceof zn||i instanceof ob||i instanceof ig)}function fb(i,e,n){if(!hb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wp(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function mP(i,e,n){if((e=fn(e))instanceof tg)return e._internalPath;if(typeof e=="string")return db(i,e);throw Mh("Field path arguments must be of type string or ",i,!1,void 0,n)}const pP=new RegExp("[~\\*/\\[\\]]");function db(i,e,n){if(e.search(pP)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new tg(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,m+i+p)}function gP(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yP extends mb{data(){return super.data()}}function pb(i,e){return typeof e=="string"?db(i,e):e instanceof tg?e._internalPath:e._delegate._internalPath}class _P{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new ig(u)}convertGeoPoint(e){return new ng(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=os(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);Ye(VS(s));const o=new ru(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends mb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new TP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class TP extends gb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(i){i=lu(i,zn);const e=lu(i.firestore,eg);return iP(ab(e),i._key).then(n=>wP(e,i,n))}class SP extends _P{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function bP(i,e,n){i=lu(i,zn);const s=lu(i.firestore,eg),o=vP(i.converter,e);return AP(s,[dP(fP(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,nr.none())])}function AP(i,e){return function(s,o){const u=new rs;return s.asyncQueue.enqueueAndForget(async()=>qx(await tP(s),o,u)),u.promise}(ab(i),e)}function wP(i,e,n){const s=n.docs.get(e._key),o=new SP(i);return new gb(i,o,e._key,s,new EP(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(Ro),ho(new ta("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new eg(new uN(s.getProvider("auth-internal")),new fN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ns(dE,mE,e),ns(dE,mE,"esm2017")})();const RP={apiKey:"AIzaSyBab7Y9biB1UNOcNHg3UNd99y__zGFL1aI",authDomain:"pruebalogin-7b4fd.firebaseapp.com",projectId:"pruebalogin-7b4fd",storageBucket:"pruebalogin-7b4fd.firebasestorage.app",messagingSenderId:"184415562113",appId:"1:184415562113:web:3dee8892b1c9c220b8e080"},_b=i0(RP),Ws=sN(_b),vb=oP(_b),CP=async(i,e)=>{if(!i)return;const n=sb(vb,`users/${i.uid}`);if(!(await yb(n)).exists){const{email:o,displayName:u,photoURL:h}=i;try{await bP(n,{displayName:u,email:o,photoURL:h,...e})}catch(m){console.error("Error creating user document",m)}}return IP(i.uid)},IP=async i=>{if(!i)return null;try{const e=sb(vb,`users/${i}`),n=await yb(e);return{uid:i,...n.data()}}catch(e){console.error("Error fetching user",e)}},Eb=F.createContext(),sg=()=>F.useContext(Eb),DP=({children:i})=>{const[e,n]=F.useState(null);F.useEffect(()=>{const o=QD(Ws,async u=>{u&&await u.reload(),n(Ws.currentUser)});return()=>o()},[]);const s=async()=>{await x0(Ws),n(null)};return V.jsx(Eb.Provider,{value:{user:e,logout:s,setUser:n},children:i})},OP=({personId:i,onDelete:e})=>{const{deletePerson:n}=qh(),[s,o]=F.useState(!1),u=()=>{i&&(o(!0),setTimeout(async()=>{await n(i),e(i),o(!1)},2500))};return V.jsxs("button",{onClick:u,className:s?"deleting":"",disabled:s,children:[V.jsx("span",{className:"button-text",children:s?"Deleting...":"Delete"}),V.jsxs("span",{className:"animation",children:[V.jsx("span",{className:"balls"}),V.jsx("span",{className:"lid"}),V.jsx("span",{className:"can",children:V.jsx("span",{className:"filler"})})]})]})},NP=50,aT=()=>{const{persons:i,setPersons:e,currentPerson:n,setCurrentPerson:s,currentIndex:o,setCurrentIndex:u}=qh(),[h,m]=F.useState(""),{user:p}=sg(),[g,E]=F.useState([]),[S,R]=F.useState("info"),[x,O]=F.useState({}),[H,P]=F.useState(!0),[G,Z]=F.useState(null),[W,oe]=F.useState({});F.useEffect(()=>{de(),N()},[G]);const ae=C=>{const Ae=C.target.value.toLowerCase();if(m(Ae),Ae==="")e(g);else{const ke=g.filter(re=>re.nombre.toLowerCase().includes(Ae));e(ke)}},de=async()=>{try{const Ae=(await Js.getAll()).data.map(ke=>({...ke,tutoriales:ke.tutoriales.map(re=>re.id||re)}));e(Ae),E(Ae)}catch(C){console.error("Error retrieving persons:",C)}},N=async()=>{try{const C=await Xs.getAll(),Ae={},ke={};C.data.forEach(re=>{Ae[re.id]={id:re.id,title:re.title,description:re.description,imageUrl:re.imageUrl||null},ke[re.title]=re.id}),O(Ae),oe(ke),P(!1)}catch(C){console.error("Error retrieving tutorials:",C),P(!1)}},w=(C,Ae)=>{s(C),u(Ae),R("info"),Z(null)},A=()=>{Js.deleteAll().then(()=>{e([]),E([]),s(null),u(-1)}).catch(C=>{console.log(C)})},D=C=>{e(Ae=>Ae.filter(ke=>ke.id!==C)),E(Ae=>Ae.filter(ke=>ke.id!==C))},L=C=>{if(!C){console.warn("ID de tutorial no válido:",C);return}const Ae=x[C];Z({title:Ae.title||"Sin título",description:Ae.description||"Sin descripción",imageUrl:Ae.imageUrl||null})},z=Math.min(g.length/NP*100,100);return V.jsxs("div",{className:"persons-container",children:[V.jsxs("div",{className:"search-container",children:[V.jsx("input",{type:"text",className:"search-bar",placeholder:"Buscar por nombre...",value:h,onChange:ae}),V.jsx("div",{className:"progress-container",children:V.jsxs("div",{className:"progress-bar",style:{width:`${z}%`},children:[z,"%"]})})]}),V.jsxs("div",{className:"content",children:[V.jsxs("div",{className:"persons-list",children:[V.jsx("h2",{children:"Lista de Personas"}),V.jsx("ul",{className:"list",children:i&&i.map((C,Ae)=>V.jsx("li",{className:`person-card ${Ae===o?"active":""}`,onClick:()=>w(C,Ae),children:V.jsx("p",{className:"person-name",children:C.nombre})},C.id))}),V.jsx("div",{className:"button-container",children:V.jsx("button",{className:"btn-danger",onClick:A,children:"Eliminar Todo"})})]}),V.jsx("div",{className:"person-details",children:n?V.jsxs("div",{className:"details-card",children:[V.jsx("h2",{children:"Detalles de la Persona"}),V.jsxs("div",{className:"tabs",children:[V.jsx("button",{className:`tab ${S==="info"?"active":""}`,onClick:()=>R("info"),children:"Información"}),V.jsx("button",{className:`tab ${S==="tutorials"?"active":""}`,onClick:()=>R("tutorials"),children:"Tutoriales"})]}),S==="info"&&V.jsxs("div",{className:"info-tab",children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Apellidos:"})," ",n.apellidos]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Calle:"})," ",n.calle]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Código Postal:"})," ",n.codigoPostal]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Ciudad:"})," ",n.ciudad]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Fecha Nacimiento:"})," ",n.fechaNacimiento]})]}),S==="tutorials"&&V.jsx("div",{className:"tutorials-tab",children:n.tutoriales&&n.tutoriales.length>0?V.jsx("ul",{className:"tutorials-list",children:n.tutoriales.map((C,Ae)=>{const ke=W[C],re=x[ke];return V.jsx("li",{className:"tutorial-item",onClick:()=>L(ke),children:re?re.title:"Tutorial no encontrado"},Ae)})}):V.jsx("p",{children:"No tiene tutoriales asignados"})}),p&&V.jsxs("div",{className:"button-group",children:[V.jsx($n,{to:`/agenda/${n.id}`,className:"btn-warning",children:"Editar"}),V.jsx(OP,{personId:n.id,onDelete:D})]})]}):V.jsx("p",{className:"select-message",children:"Selecciona una persona para ver detalles..."})}),G&&G.title&&V.jsxs("div",{className:"tutorial-details",children:[V.jsx("h2",{children:G.title}),V.jsx("p",{children:G.description}),G.imageUrl&&V.jsx("img",{src:G.imageUrl,alt:G.title,className:"tutorial-image"})]})]})]})},Tb="/assets/logo_agenda-C1CroGms.png",xP=()=>{const{setUser:i}=sg(),[e,n]=F.useState(""),[s,o]=F.useState(""),[u,h]=F.useState(null),m=bo(),p=async g=>{g.preventDefault();try{await(await qD(Ws,e,s)).user.reload();const R=Ws.currentUser;i(R),m("/")}catch(E){h("Error signing in with email and password!"),console.error("Error signing in:",E)}};return V.jsx("div",{className:"login-container",children:V.jsxs("div",{className:"card",children:[V.jsx("img",{src:Tb,alt:"Logo",className:"logo"}),V.jsx("h2",{children:"Sign In"}),u&&V.jsx("div",{className:"error-message",children:u}),V.jsxs("form",{className:"form",onSubmit:p,children:[V.jsx("input",{type:"email",value:e,placeholder:"Email",onChange:g=>n(g.target.value)}),V.jsx("input",{type:"password",value:s,placeholder:"Password",onChange:g=>o(g.target.value)}),V.jsx("button",{type:"submit",children:"Sign In"})]}),V.jsxs("footer",{children:["¿No tienes cuenta? ",V.jsxs($n,{to:"/signUp",children:["Registrate ",V.jsx("span",{children:"aqui"})]})]})]})})},PP=()=>{const[i,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[h,m]=F.useState(null),p=bo(),g=async E=>{E.preventDefault(),m(null);try{if(!i||!n||!o){m("Se requieren todos los campos");return}const R=(await HD(Ws,i,n)).user;await GD(R,{displayName:o}),await R.reload(),await CP(R,{displayName:o}),p("/signIn")}catch(S){m("Error signing up"),console.error("Error creating user: ",S)}};return V.jsx("div",{className:"login-container",children:V.jsxs("div",{className:"card",children:[V.jsx("img",{src:Tb,alt:"Logo",className:"logo"}),V.jsx("h2",{children:"Sign Up"}),h&&V.jsx("div",{className:"error-message",children:h}),V.jsxs("form",{className:"form",onSubmit:g,children:[V.jsx("input",{type:"text",value:o,placeholder:"Name",onChange:E=>u(E.target.value)}),V.jsx("input",{type:"email",value:i,placeholder:"Email",onChange:E=>e(E.target.value)}),V.jsx("input",{type:"password",value:n,placeholder:"Password",onChange:E=>s(E.target.value)}),V.jsx("button",{type:"submit",children:"Sign Up"})]}),V.jsxs("footer",{children:["¿Tienes una cuenta? ",V.jsxs($n,{to:"/signIn",children:["Accede ",V.jsx("span",{children:"aqui"})]})]})]})})};class MP extends F.Component{constructor(e){super(e),this.onChangeSearchTitle=this.onChangeSearchTitle.bind(this),this.retrieveTutorials=this.retrieveTutorials.bind(this),this.refreshList=this.refreshList.bind(this),this.setActiveTutorial=this.setActiveTutorial.bind(this),this.removeAllTutorials=this.removeAllTutorials.bind(this),this.searchTitle=this.searchTitle.bind(this),this.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:""}}componentDidMount(){this.retrieveTutorials()}onChangeSearchTitle(e){const n=e.target.value;this.setState({searchTitle:n})}retrieveTutorials(){Xs.getAll().then(e=>{this.setState({tutorials:e.data}),console.log(e.data)}).catch(e=>{console.log(e)})}refreshList(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}setActiveTutorial(e,n){this.setState({currentTutorial:e,currentIndex:n})}removeAllTutorials(){Xs.deleteAll().then(e=>{console.log(e.data),this.refreshList()}).catch(e=>{console.log(e)})}searchTitle(){Xs.findByTitle(this.state.searchTitle).then(e=>{this.setState({tutorials:e.data}),console.log(e.data)}).catch(e=>{console.log(e)})}render(){const{searchTitle:e,tutorials:n,currentTutorial:s,currentIndex:o}=this.state;return V.jsxs("div",{className:"list row",children:[V.jsx("div",{className:"col-md-8",children:V.jsxs("div",{className:"input-group mb-3",children:[V.jsx("input",{type:"text",className:"form-control",placeholder:"Search by title",value:e,onChange:this.onChangeSearchTitle}),V.jsx("div",{className:"input-group-append",children:V.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]})}),V.jsxs("div",{className:"col-md-6",children:[V.jsx("h4",{children:"Tutorials List"}),V.jsx("ul",{className:"list-group",children:n&&n.map((u,h)=>V.jsx("li",{className:"list-group-item "+(h===o?"active":""),onClick:()=>this.setActiveTutorial(u,h),children:u.title},h))}),V.jsx("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"})]}),V.jsx("div",{className:"col-md-6",children:s?V.jsxs("div",{children:[V.jsx("h4",{children:"Tutorial"}),V.jsxs("div",{children:[V.jsx("label",{children:V.jsx("strong",{children:"Title:"})})," ",s.title]}),V.jsxs("div",{children:[V.jsx("label",{children:V.jsx("strong",{children:"Description:"})})," ",s.description]}),V.jsxs("div",{children:[V.jsx("label",{children:V.jsx("strong",{children:"Status:"})})," ",s.published?"Published":"Pending"]}),V.jsx($n,{to:"/tutorials/"+s.id,className:"badge badge-warning",children:"Edit"})]}):V.jsxs("div",{children:[V.jsx("br",{}),V.jsx("p",{children:"Please click on a Tutorial..."})]})})]})}}const VP=()=>V.jsxs("div",{id:"bubbles",children:[V.jsx("div",{className:"bubbles__first"}),V.jsx("div",{className:"bubbles__second"})]}),kP=()=>{const{user:i}=sg(),e=bo(),[n,s]=F.useState(!1),o=async()=>{try{await x0(Ws),e("/signIn")}catch(u){console.error("Error al cerrar sesión:",u)}};return V.jsxs(V.Fragment,{children:[V.jsx(VP,{}),V.jsxs("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[V.jsx($n,{to:"/agenda",className:"navbar-brand",children:"Agenda"}),V.jsxs("div",{className:"navbar-nav mr-auto",children:[V.jsx("li",{className:"nav-item",children:V.jsx($n,{to:"/agenda",className:"nav-link",children:"Personas"})}),i&&V.jsx("li",{className:"nav-item",children:V.jsx($n,{to:"/add",className:"nav-link",children:"Añadir"})})]}),V.jsx("div",{className:"navbar-nav ml-auto d-flex align-items-center",children:i?V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"user-info d-flex align-items-center",children:[V.jsx("img",{src:i.photoURL||"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"User",className:"user-photo"}),V.jsx("span",{className:"user-name",children:i.displayName||i.email})]}),V.jsx("button",{className:"nav-link btn btn-link logout-btn",onClick:o,children:"Logout"})]}):V.jsxs("div",{className:"nav-item dropdown",children:[V.jsx("button",{className:"nav-link dropdown-toggle btn btn-link",onClick:()=>s(!n),children:"Perfil"}),V.jsxs("div",{className:`dropdown-menu ${n?"show":""}`,children:[V.jsx($n,{to:"/signIn",className:"dropdown-item",children:"Sign In"}),V.jsx($n,{to:"/signUp",className:"dropdown-item",children:"Sign Up"})]})]})})]})]})},LP=()=>V.jsx(DP,{children:V.jsxs(a1,{children:[V.jsx(kP,{}),V.jsxs(Qw,{children:[V.jsx(Qr,{path:"/",element:V.jsx(aT,{})}),V.jsx(Qr,{path:"/agenda",element:V.jsx(aT,{})}),V.jsx(Qr,{path:"/add",element:V.jsx(o1,{})}),V.jsx(Qr,{path:"/agenda/:id",element:V.jsx(l1,{})}),V.jsx(Qr,{path:"/signIn",element:V.jsx(xP,{})}),V.jsx(Qr,{path:"/signUp",element:V.jsx(PP,{})}),V.jsx(Qr,{path:"/tutoriales",element:V.jsx(MP,{})})]})]})});iw.createRoot(document.getElementById("root")).render(V.jsx(YA.StrictMode,{children:V.jsx(_R,{children:V.jsx(LP,{})})}));
